var Xr=Object.defineProperty;var Qr=(b,s,t)=>s in b?Xr(b,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):b[s]=t;var Nt=(b,s,t)=>(Qr(b,typeof s!="symbol"?s+"":s,t),t);var Jt=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Gt(b){throw new Error('Could not dynamically require "'+b+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Te={exports:{}},ar=function(s,t){return function(){for(var a=new Array(arguments.length),n=0;n<a.length;n++)a[n]=arguments[n];return s.apply(t,a)}},tn=ar,Xt=Object.prototype.toString;function Be(b){return Xt.call(b)==="[object Array]"}function De(b){return typeof b=="undefined"}function en(b){return b!==null&&!De(b)&&b.constructor!==null&&!De(b.constructor)&&typeof b.constructor.isBuffer=="function"&&b.constructor.isBuffer(b)}function rn(b){return Xt.call(b)==="[object ArrayBuffer]"}function nn(b){return typeof FormData!="undefined"&&b instanceof FormData}function an(b){var s;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?s=ArrayBuffer.isView(b):s=b&&b.buffer&&b.buffer instanceof ArrayBuffer,s}function sn(b){return typeof b=="string"}function on(b){return typeof b=="number"}function sr(b){return b!==null&&typeof b=="object"}function me(b){if(Xt.call(b)!=="[object Object]")return!1;var s=Object.getPrototypeOf(b);return s===null||s===Object.prototype}function un(b){return Xt.call(b)==="[object Date]"}function fn(b){return Xt.call(b)==="[object File]"}function ln(b){return Xt.call(b)==="[object Blob]"}function or(b){return Xt.call(b)==="[object Function]"}function cn(b){return sr(b)&&or(b.pipe)}function hn(b){return typeof URLSearchParams!="undefined"&&b instanceof URLSearchParams}function dn(b){return b.trim?b.trim():b.replace(/^\s+|\s+$/g,"")}function pn(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function Pe(b,s){if(!(b===null||typeof b=="undefined"))if(typeof b!="object"&&(b=[b]),Be(b))for(var t=0,d=b.length;t<d;t++)s.call(null,b[t],t,b);else for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&s.call(null,b[a],a,b)}function Ne(){var b={};function s(a,n){me(b[n])&&me(a)?b[n]=Ne(b[n],a):me(a)?b[n]=Ne({},a):Be(a)?b[n]=a.slice():b[n]=a}for(var t=0,d=arguments.length;t<d;t++)Pe(arguments[t],s);return b}function mn(b,s,t){return Pe(s,function(a,n){t&&typeof a=="function"?b[n]=tn(a,t):b[n]=a}),b}function _n(b){return b.charCodeAt(0)===65279&&(b=b.slice(1)),b}var Lt={isArray:Be,isArrayBuffer:rn,isBuffer:en,isFormData:nn,isArrayBufferView:an,isString:sn,isNumber:on,isObject:sr,isPlainObject:me,isUndefined:De,isDate:un,isFile:fn,isBlob:ln,isFunction:or,isStream:cn,isURLSearchParams:hn,isStandardBrowserEnv:pn,forEach:Pe,merge:Ne,extend:mn,trim:dn,stripBOM:_n},ee=Lt;function Ze(b){return encodeURIComponent(b).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var ur=function(s,t,d){if(!t)return s;var a;if(d)a=d(t);else if(ee.isURLSearchParams(t))a=t.toString();else{var n=[];ee.forEach(t,function(u,x){u===null||typeof u=="undefined"||(ee.isArray(u)?x=x+"[]":u=[u],ee.forEach(u,function(l){ee.isDate(l)?l=l.toISOString():ee.isObject(l)&&(l=JSON.stringify(l)),n.push(Ze(x)+"="+Ze(l))}))}),a=n.join("&")}if(a){var i=s.indexOf("#");i!==-1&&(s=s.slice(0,i)),s+=(s.indexOf("?")===-1?"?":"&")+a}return s},vn=Lt;function ve(){this.handlers=[]}ve.prototype.use=function(s,t,d){return this.handlers.push({fulfilled:s,rejected:t,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1};ve.prototype.eject=function(s){this.handlers[s]&&(this.handlers[s]=null)};ve.prototype.forEach=function(s){vn.forEach(this.handlers,function(d){d!==null&&s(d)})};var gn=ve,yn=Lt,bn=function(s,t){yn.forEach(s,function(a,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(s[t]=a,delete s[n])})},fr=function(s,t,d,a,n){return s.config=t,d&&(s.code=d),s.request=a,s.response=n,s.isAxiosError=!0,s.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},s},wn=fr,lr=function(s,t,d,a,n){var i=new Error(s);return wn(i,t,d,a,n)},kn=lr,xn=function(s,t,d){var a=d.config.validateStatus;!d.status||!a||a(d.status)?s(d):t(kn("Request failed with status code "+d.status,d.config,null,d.request,d))},ce=Lt,Sn=ce.isStandardBrowserEnv()?function(){return{write:function(t,d,a,n,i,e){var u=[];u.push(t+"="+encodeURIComponent(d)),ce.isNumber(a)&&u.push("expires="+new Date(a).toGMTString()),ce.isString(n)&&u.push("path="+n),ce.isString(i)&&u.push("domain="+i),e===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(t){var d=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return d?decodeURIComponent(d[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),En=function(s){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(s)},An=function(s,t){return t?s.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):s},Cn=En,In=An,Rn=function(s,t){return s&&!Cn(t)?In(s,t):t},Ce=Lt,On=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],zn=function(s){var t={},d,a,n;return s&&Ce.forEach(s.split(`
`),function(e){if(n=e.indexOf(":"),d=Ce.trim(e.substr(0,n)).toLowerCase(),a=Ce.trim(e.substr(n+1)),d){if(t[d]&&On.indexOf(d)>=0)return;d==="set-cookie"?t[d]=(t[d]?t[d]:[]).concat([a]):t[d]=t[d]?t[d]+", "+a:a}}),t},He=Lt,Dn=He.isStandardBrowserEnv()?function(){var s=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),d;function a(n){var i=n;return s&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return d=a(window.location.href),function(i){var e=He.isString(i)?a(i):i;return e.protocol===d.protocol&&e.host===d.host}}():function(){return function(){return!0}}();function Le(b){this.message=b}Le.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Le.prototype.__CANCEL__=!0;var ge=Le,he=Lt,Nn=xn,Tn=Sn,Bn=ur,Pn=Rn,Ln=zn,Fn=Dn,Ie=lr,Un=be,jn=ge,qe=function(s){return new Promise(function(d,a){var n=s.data,i=s.headers,e=s.responseType,u;function x(){s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}he.isFormData(n)&&delete i["Content-Type"];var p=new XMLHttpRequest;if(s.auth){var l=s.auth.username||"",w=s.auth.password?unescape(encodeURIComponent(s.auth.password)):"";i.Authorization="Basic "+btoa(l+":"+w)}var f=Pn(s.baseURL,s.url);p.open(s.method.toUpperCase(),Bn(f,s.params,s.paramsSerializer),!0),p.timeout=s.timeout;function _(){if(!!p){var v="getAllResponseHeaders"in p?Ln(p.getAllResponseHeaders()):null,m=!e||e==="text"||e==="json"?p.responseText:p.response,k={data:m,status:p.status,statusText:p.statusText,headers:v,config:s,request:p};Nn(function(N){d(N),x()},function(N){a(N),x()},k),p=null}}if("onloadend"in p?p.onloadend=_:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(_)},p.onabort=function(){!p||(a(Ie("Request aborted",s,"ECONNABORTED",p)),p=null)},p.onerror=function(){a(Ie("Network Error",s,null,p)),p=null},p.ontimeout=function(){var m=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded",k=s.transitional||Un.transitional;s.timeoutErrorMessage&&(m=s.timeoutErrorMessage),a(Ie(m,s,k.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",p)),p=null},he.isStandardBrowserEnv()){var c=(s.withCredentials||Fn(f))&&s.xsrfCookieName?Tn.read(s.xsrfCookieName):void 0;c&&(i[s.xsrfHeaderName]=c)}"setRequestHeader"in p&&he.forEach(i,function(m,k){typeof n=="undefined"&&k.toLowerCase()==="content-type"?delete i[k]:p.setRequestHeader(k,m)}),he.isUndefined(s.withCredentials)||(p.withCredentials=!!s.withCredentials),e&&e!=="json"&&(p.responseType=s.responseType),typeof s.onDownloadProgress=="function"&&p.addEventListener("progress",s.onDownloadProgress),typeof s.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",s.onUploadProgress),(s.cancelToken||s.signal)&&(u=function(v){!p||(a(!v||v&&v.type?new jn("canceled"):v),p.abort(),p=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u))),n||(n=null),p.send(n)})},It=Lt,Ye=bn,$n=fr,Mn={"Content-Type":"application/x-www-form-urlencoded"};function Je(b,s){!It.isUndefined(b)&&It.isUndefined(b["Content-Type"])&&(b["Content-Type"]=s)}function Wn(){var b;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(b=qe),b}function Zn(b,s,t){if(It.isString(b))try{return(s||JSON.parse)(b),It.trim(b)}catch(d){if(d.name!=="SyntaxError")throw d}return(t||JSON.stringify)(b)}var ye={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:Wn(),transformRequest:[function(s,t){return Ye(t,"Accept"),Ye(t,"Content-Type"),It.isFormData(s)||It.isArrayBuffer(s)||It.isBuffer(s)||It.isStream(s)||It.isFile(s)||It.isBlob(s)?s:It.isArrayBufferView(s)?s.buffer:It.isURLSearchParams(s)?(Je(t,"application/x-www-form-urlencoded;charset=utf-8"),s.toString()):It.isObject(s)||t&&t["Content-Type"]==="application/json"?(Je(t,"application/json"),Zn(s)):s}],transformResponse:[function(s){var t=this.transitional||ye.transitional,d=t&&t.silentJSONParsing,a=t&&t.forcedJSONParsing,n=!d&&this.responseType==="json";if(n||a&&It.isString(s)&&s.length)try{return JSON.parse(s)}catch(i){if(n)throw i.name==="SyntaxError"?$n(i,this,"E_JSON_PARSE"):i}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};It.forEach(["delete","get","head"],function(s){ye.headers[s]={}});It.forEach(["post","put","patch"],function(s){ye.headers[s]=It.merge(Mn)});var be=ye,Hn=Lt,qn=be,Yn=function(s,t,d){var a=this||qn;return Hn.forEach(d,function(i){s=i.call(a,s,t)}),s},cr=function(s){return!!(s&&s.__CANCEL__)},Ge=Lt,Re=Yn,Jn=cr,Gn=be,Kn=ge;function Oe(b){if(b.cancelToken&&b.cancelToken.throwIfRequested(),b.signal&&b.signal.aborted)throw new Kn("canceled")}var Vn=function(s){Oe(s),s.headers=s.headers||{},s.data=Re.call(s,s.data,s.headers,s.transformRequest),s.headers=Ge.merge(s.headers.common||{},s.headers[s.method]||{},s.headers),Ge.forEach(["delete","get","head","post","put","patch","common"],function(a){delete s.headers[a]});var t=s.adapter||Gn.adapter;return t(s).then(function(a){return Oe(s),a.data=Re.call(s,a.data,a.headers,s.transformResponse),a},function(a){return Jn(a)||(Oe(s),a&&a.response&&(a.response.data=Re.call(s,a.response.data,a.response.headers,s.transformResponse))),Promise.reject(a)})},Pt=Lt,hr=function(s,t){t=t||{};var d={};function a(p,l){return Pt.isPlainObject(p)&&Pt.isPlainObject(l)?Pt.merge(p,l):Pt.isPlainObject(l)?Pt.merge({},l):Pt.isArray(l)?l.slice():l}function n(p){if(Pt.isUndefined(t[p])){if(!Pt.isUndefined(s[p]))return a(void 0,s[p])}else return a(s[p],t[p])}function i(p){if(!Pt.isUndefined(t[p]))return a(void 0,t[p])}function e(p){if(Pt.isUndefined(t[p])){if(!Pt.isUndefined(s[p]))return a(void 0,s[p])}else return a(void 0,t[p])}function u(p){if(p in t)return a(s[p],t[p]);if(p in s)return a(void 0,s[p])}var x={url:i,method:i,data:i,baseURL:e,transformRequest:e,transformResponse:e,paramsSerializer:e,timeout:e,timeoutMessage:e,withCredentials:e,adapter:e,responseType:e,xsrfCookieName:e,xsrfHeaderName:e,onUploadProgress:e,onDownloadProgress:e,decompress:e,maxContentLength:e,maxBodyLength:e,transport:e,httpAgent:e,httpsAgent:e,cancelToken:e,socketPath:e,responseEncoding:e,validateStatus:u};return Pt.forEach(Object.keys(s).concat(Object.keys(t)),function(l){var w=x[l]||n,f=w(l);Pt.isUndefined(f)&&w!==u||(d[l]=f)}),d},dr={version:"0.24.0"},Xn=dr.version,Fe={};["object","boolean","number","function","string","symbol"].forEach(function(b,s){Fe[b]=function(d){return typeof d===b||"a"+(s<1?"n ":" ")+b}});var Ke={};Fe.transitional=function(s,t,d){function a(n,i){return"[Axios v"+Xn+"] Transitional option '"+n+"'"+i+(d?". "+d:"")}return function(n,i,e){if(s===!1)throw new Error(a(i," has been removed"+(t?" in "+t:"")));return t&&!Ke[i]&&(Ke[i]=!0,console.warn(a(i," has been deprecated since v"+t+" and will be removed in the near future"))),s?s(n,i,e):!0}};function Qn(b,s,t){if(typeof b!="object")throw new TypeError("options must be an object");for(var d=Object.keys(b),a=d.length;a-- >0;){var n=d[a],i=s[n];if(i){var e=b[n],u=e===void 0||i(e,n,b);if(u!==!0)throw new TypeError("option "+n+" must be "+u);continue}if(t!==!0)throw Error("Unknown option "+n)}}var ti={assertOptions:Qn,validators:Fe},pr=Lt,ei=ur,Ve=gn,Xe=Vn,we=hr,mr=ti,re=mr.validators;function oe(b){this.defaults=b,this.interceptors={request:new Ve,response:new Ve}}oe.prototype.request=function(s){typeof s=="string"?(s=arguments[1]||{},s.url=arguments[0]):s=s||{},s=we(this.defaults,s),s.method?s.method=s.method.toLowerCase():this.defaults.method?s.method=this.defaults.method.toLowerCase():s.method="get";var t=s.transitional;t!==void 0&&mr.assertOptions(t,{silentJSONParsing:re.transitional(re.boolean),forcedJSONParsing:re.transitional(re.boolean),clarifyTimeoutError:re.transitional(re.boolean)},!1);var d=[],a=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(s)===!1||(a=a&&w.synchronous,d.unshift(w.fulfilled,w.rejected))});var n=[];this.interceptors.response.forEach(function(w){n.push(w.fulfilled,w.rejected)});var i;if(!a){var e=[Xe,void 0];for(Array.prototype.unshift.apply(e,d),e=e.concat(n),i=Promise.resolve(s);e.length;)i=i.then(e.shift(),e.shift());return i}for(var u=s;d.length;){var x=d.shift(),p=d.shift();try{u=x(u)}catch(l){p(l);break}}try{i=Xe(u)}catch(l){return Promise.reject(l)}for(;n.length;)i=i.then(n.shift(),n.shift());return i};oe.prototype.getUri=function(s){return s=we(this.defaults,s),ei(s.url,s.params,s.paramsSerializer).replace(/^\?/,"")};pr.forEach(["delete","get","head","options"],function(s){oe.prototype[s]=function(t,d){return this.request(we(d||{},{method:s,url:t,data:(d||{}).data}))}});pr.forEach(["post","put","patch"],function(s){oe.prototype[s]=function(t,d,a){return this.request(we(a||{},{method:s,url:t,data:d}))}});var ri=oe,ni=ge;function ne(b){if(typeof b!="function")throw new TypeError("executor must be a function.");var s;this.promise=new Promise(function(a){s=a});var t=this;this.promise.then(function(d){if(!!t._listeners){var a,n=t._listeners.length;for(a=0;a<n;a++)t._listeners[a](d);t._listeners=null}}),this.promise.then=function(d){var a,n=new Promise(function(i){t.subscribe(i),a=i}).then(d);return n.cancel=function(){t.unsubscribe(a)},n},b(function(a){t.reason||(t.reason=new ni(a),s(t.reason))})}ne.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};ne.prototype.subscribe=function(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]};ne.prototype.unsubscribe=function(s){if(!!this._listeners){var t=this._listeners.indexOf(s);t!==-1&&this._listeners.splice(t,1)}};ne.source=function(){var s,t=new ne(function(a){s=a});return{token:t,cancel:s}};var ii=ne,ai=function(s){return function(d){return s.apply(null,d)}},si=function(s){return typeof s=="object"&&s.isAxiosError===!0},Qe=Lt,oi=ar,_e=ri,ui=hr,fi=be;function _r(b){var s=new _e(b),t=oi(_e.prototype.request,s);return Qe.extend(t,_e.prototype,s),Qe.extend(t,s),t.create=function(a){return _r(ui(b,a))},t}var Wt=_r(fi);Wt.Axios=_e;Wt.Cancel=ge;Wt.CancelToken=ii;Wt.isCancel=cr;Wt.VERSION=dr.version;Wt.all=function(s){return Promise.all(s)};Wt.spread=ai;Wt.isAxiosError=si;Te.exports=Wt;Te.exports.default=Wt;var zt=Te.exports,vr={exports:{}};/*!

JSZip v3.10.0 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(b,s){(function(t){b.exports=t()})(function(){return function t(d,a,n){function i(x,p){if(!a[x]){if(!d[x]){var l=typeof Gt=="function"&&Gt;if(!p&&l)return l(x,!0);if(e)return e(x,!0);var w=new Error("Cannot find module '"+x+"'");throw w.code="MODULE_NOT_FOUND",w}var f=a[x]={exports:{}};d[x][0].call(f.exports,function(_){var c=d[x][1][_];return i(c||_)},f,f.exports,t,d,a,n)}return a[x].exports}for(var e=typeof Gt=="function"&&Gt,u=0;u<n.length;u++)i(n[u]);return i}({1:[function(t,d,a){var n=t("./utils"),i=t("./support"),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(u){for(var x,p,l,w,f,_,c,v=[],m=0,k=u.length,I=k,N=n.getTypeOf(u)!=="string";m<u.length;)I=k-m,l=N?(x=u[m++],p=m<k?u[m++]:0,m<k?u[m++]:0):(x=u.charCodeAt(m++),p=m<k?u.charCodeAt(m++):0,m<k?u.charCodeAt(m++):0),w=x>>2,f=(3&x)<<4|p>>4,_=1<I?(15&p)<<2|l>>6:64,c=2<I?63&l:64,v.push(e.charAt(w)+e.charAt(f)+e.charAt(_)+e.charAt(c));return v.join("")},a.decode=function(u){var x,p,l,w,f,_,c=0,v=0,m="data:";if(u.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var k,I=3*(u=u.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(u.charAt(u.length-1)===e.charAt(64)&&I--,u.charAt(u.length-2)===e.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=i.uint8array?new Uint8Array(0|I):new Array(0|I);c<u.length;)x=e.indexOf(u.charAt(c++))<<2|(w=e.indexOf(u.charAt(c++)))>>4,p=(15&w)<<4|(f=e.indexOf(u.charAt(c++)))>>2,l=(3&f)<<6|(_=e.indexOf(u.charAt(c++))),k[v++]=x,f!==64&&(k[v++]=p),_!==64&&(k[v++]=l);return k}},{"./support":30,"./utils":32}],2:[function(t,d,a){var n=t("./external"),i=t("./stream/DataWorker"),e=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function x(p,l,w,f,_){this.compressedSize=p,this.uncompressedSize=l,this.crc32=w,this.compression=f,this.compressedContent=_}x.prototype={getContentWorker:function(){var p=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),l=this;return p.on("end",function(){if(this.streamInfo.data_length!==l.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),p},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},x.createWorkerFrom=function(p,l,w){return p.pipe(new e).pipe(new u("uncompressedSize")).pipe(l.compressWorker(w)).pipe(new u("compressedSize")).withStreamInfo("compression",l)},d.exports=x},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,d,a){var n=t("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(i){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},a.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,d,a){var n=t("./utils"),i=function(){for(var e,u=[],x=0;x<256;x++){e=x;for(var p=0;p<8;p++)e=1&e?3988292384^e>>>1:e>>>1;u[x]=e}return u}();d.exports=function(e,u){return e!==void 0&&e.length?n.getTypeOf(e)!=="string"?function(x,p,l,w){var f=i,_=w+l;x^=-1;for(var c=w;c<_;c++)x=x>>>8^f[255&(x^p[c])];return-1^x}(0|u,e,e.length,0):function(x,p,l,w){var f=i,_=w+l;x^=-1;for(var c=w;c<_;c++)x=x>>>8^f[255&(x^p.charCodeAt(c))];return-1^x}(0|u,e,e.length,0):0}},{"./utils":32}],5:[function(t,d,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(t,d,a){var n=null;n=typeof Promise!="undefined"?Promise:t("lie"),d.exports={Promise:n}},{lie:37}],7:[function(t,d,a){var n=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",i=t("pako"),e=t("./utils"),u=t("./stream/GenericWorker"),x=n?"uint8array":"array";function p(l,w){u.call(this,"FlateWorker/"+l),this._pako=null,this._pakoAction=l,this._pakoOptions=w,this.meta={}}a.magic="\b\0",e.inherits(p,u),p.prototype.processChunk=function(l){this.meta=l.meta,this._pako===null&&this._createPako(),this._pako.push(e.transformTo(x,l.data),!1)},p.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},p.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},p.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var l=this;this._pako.onData=function(w){l.push({data:w,meta:l.meta})}},a.compressWorker=function(l){return new p("Deflate",l)},a.uncompressWorker=function(){return new p("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,d,a){function n(f,_){var c,v="";for(c=0;c<_;c++)v+=String.fromCharCode(255&f),f>>>=8;return v}function i(f,_,c,v,m,k){var I,N,E=f.file,U=f.compression,T=k!==x.utf8encode,W=e.transformTo("string",k(E.name)),F=e.transformTo("string",x.utf8encode(E.name)),K=E.comment,st=e.transformTo("string",k(K)),A=e.transformTo("string",x.utf8encode(K)),$=F.length!==E.name.length,o=A.length!==K.length,H="",ct="",J="",ht=E.dir,V=E.date,lt={crc32:0,compressedSize:0,uncompressedSize:0};_&&!c||(lt.crc32=f.crc32,lt.compressedSize=f.compressedSize,lt.uncompressedSize=f.uncompressedSize);var L=0;_&&(L|=8),T||!$&&!o||(L|=2048);var P=0,ft=0;ht&&(P|=16),m==="UNIX"?(ft=798,P|=function(nt,kt){var Ct=nt;return nt||(Ct=kt?16893:33204),(65535&Ct)<<16}(E.unixPermissions,ht)):(ft=20,P|=function(nt){return 63&(nt||0)}(E.dosPermissions)),I=V.getUTCHours(),I<<=6,I|=V.getUTCMinutes(),I<<=5,I|=V.getUTCSeconds()/2,N=V.getUTCFullYear()-1980,N<<=4,N|=V.getUTCMonth()+1,N<<=5,N|=V.getUTCDate(),$&&(ct=n(1,1)+n(p(W),4)+F,H+="up"+n(ct.length,2)+ct),o&&(J=n(1,1)+n(p(st),4)+A,H+="uc"+n(J.length,2)+J);var at="";return at+=`
\0`,at+=n(L,2),at+=U.magic,at+=n(I,2),at+=n(N,2),at+=n(lt.crc32,4),at+=n(lt.compressedSize,4),at+=n(lt.uncompressedSize,4),at+=n(W.length,2),at+=n(H.length,2),{fileRecord:l.LOCAL_FILE_HEADER+at+W+H,dirRecord:l.CENTRAL_FILE_HEADER+n(ft,2)+at+n(st.length,2)+"\0\0\0\0"+n(P,4)+n(v,4)+W+H+st}}var e=t("../utils"),u=t("../stream/GenericWorker"),x=t("../utf8"),p=t("../crc32"),l=t("../signature");function w(f,_,c,v){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=c,this.encodeFileName=v,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}e.inherits(w,u),w.prototype.push=function(f){var _=f.meta.percent||0,c=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,u.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:c?(_+100*(c-v-1))/c:100}}))},w.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var _=this.streamFiles&&!f.file.dir;if(_){var c=i(f,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(f){this.accumulate=!1;var _=this.streamFiles&&!f.file.dir,c=i(f,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),_)this.push({data:function(v){return l.DATA_DESCRIPTOR+n(v.crc32,4)+n(v.compressedSize,4)+n(v.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var f=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var c=this.bytesWritten-f,v=function(m,k,I,N,E){var U=e.transformTo("string",E(N));return l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(m,2)+n(m,2)+n(k,4)+n(I,4)+n(U.length,2)+U}(this.dirRecords.length,c,f,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(f){this._sources.push(f);var _=this;return f.on("data",function(c){_.processChunk(c)}),f.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),f.on("error",function(c){_.error(c)}),this},w.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(f){var _=this._sources;if(!u.prototype.error.call(this,f))return!1;for(var c=0;c<_.length;c++)try{_[c].error(f)}catch{}return!0},w.prototype.lock=function(){u.prototype.lock.call(this);for(var f=this._sources,_=0;_<f.length;_++)f[_].lock()},d.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,d,a){var n=t("../compressions"),i=t("./ZipFileWorker");a.generateWorker=function(e,u,x){var p=new i(u.streamFiles,x,u.platform,u.encodeFileName),l=0;try{e.forEach(function(w,f){l++;var _=function(k,I){var N=k||I,E=n[N];if(!E)throw new Error(N+" is not a valid compression method !");return E}(f.options.compression,u.compression),c=f.options.compressionOptions||u.compressionOptions||{},v=f.dir,m=f.date;f._compressWorker(_,c).withStreamInfo("file",{name:w,dir:v,date:m,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(p)}),p.entriesCount=l}catch(w){p.error(w)}return p}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,d,a){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new n;for(var e in this)typeof this[e]!="function"&&(i[e]=this[e]);return i}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.10.0",n.loadAsync=function(i,e){return new n().loadAsync(i,e)},n.external=t("./external"),d.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,d,a){var n=t("./utils"),i=t("./external"),e=t("./utf8"),u=t("./zipEntries"),x=t("./stream/Crc32Probe"),p=t("./nodejsUtils");function l(w){return new i.Promise(function(f,_){var c=w.decompressed.getContentWorker().pipe(new x);c.on("error",function(v){_(v)}).on("end",function(){c.streamInfo.crc32!==w.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}d.exports=function(w,f){var _=this;return f=n.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:e.utf8decode}),p.isNode&&p.isStream(w)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",w,!0,f.optimizedBinaryString,f.base64).then(function(c){var v=new u(f);return v.load(c),v}).then(function(c){var v=[i.Promise.resolve(c)],m=c.files;if(f.checkCRC32)for(var k=0;k<m.length;k++)v.push(l(m[k]));return i.Promise.all(v)}).then(function(c){for(var v=c.shift(),m=v.files,k=0;k<m.length;k++){var I=m[k],N=I.fileNameStr,E=n.resolve(I.fileNameStr);_.file(E,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:f.createFolders}),I.dir||(_.file(E).unsafeOriginalName=N)}return v.zipComment.length&&(_.comment=v.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,d,a){var n=t("../utils"),i=t("../stream/GenericWorker");function e(u,x){i.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(x)}n.inherits(e,i),e.prototype._bindStream=function(u){var x=this;(this._stream=u).pause(),u.on("data",function(p){x.push({data:p,meta:{percent:0}})}).on("error",function(p){x.isPaused?this.generatedError=p:x.error(p)}).on("end",function(){x.isPaused?x._upstreamEnded=!0:x.end()})},e.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},e.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},d.exports=e},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,d,a){var n=t("readable-stream").Readable;function i(e,u,x){n.call(this,u),this._helper=e;var p=this;e.on("data",function(l,w){p.push(l)||p._helper.pause(),x&&x(w)}).on("error",function(l){p.emit("error",l)}).on("end",function(){p.push(null)})}t("../utils").inherits(i,n),i.prototype._read=function(){this._helper.resume()},d.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,d,a){d.exports={isNode:typeof Buffer!="undefined",newBufferFrom:function(n,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,i);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,i)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var i=new Buffer(n);return i.fill(0),i},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(t,d,a){function n(E,U,T){var W,F=e.getTypeOf(U),K=e.extend(T||{},p);K.date=K.date||new Date,K.compression!==null&&(K.compression=K.compression.toUpperCase()),typeof K.unixPermissions=="string"&&(K.unixPermissions=parseInt(K.unixPermissions,8)),K.unixPermissions&&16384&K.unixPermissions&&(K.dir=!0),K.dosPermissions&&16&K.dosPermissions&&(K.dir=!0),K.dir&&(E=m(E)),K.createFolders&&(W=v(E))&&k.call(this,W,!0);var st=F==="string"&&K.binary===!1&&K.base64===!1;T&&T.binary!==void 0||(K.binary=!st),(U instanceof l&&U.uncompressedSize===0||K.dir||!U||U.length===0)&&(K.base64=!1,K.binary=!0,U="",K.compression="STORE",F="string");var A=null;A=U instanceof l||U instanceof u?U:_.isNode&&_.isStream(U)?new c(E,U):e.prepareContent(E,U,K.binary,K.optimizedBinaryString,K.base64);var $=new w(E,A,K);this.files[E]=$}var i=t("./utf8"),e=t("./utils"),u=t("./stream/GenericWorker"),x=t("./stream/StreamHelper"),p=t("./defaults"),l=t("./compressedObject"),w=t("./zipObject"),f=t("./generate"),_=t("./nodejsUtils"),c=t("./nodejs/NodejsStreamInputAdapter"),v=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var U=E.lastIndexOf("/");return 0<U?E.substring(0,U):""},m=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},k=function(E,U){return U=U!==void 0?U:p.createFolders,E=m(E),this.files[E]||n.call(this,E,null,{dir:!0,createFolders:U}),this.files[E]};function I(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var U,T,W;for(U in this.files)W=this.files[U],(T=U.slice(this.root.length,U.length))&&U.slice(0,this.root.length)===this.root&&E(T,W)},filter:function(E){var U=[];return this.forEach(function(T,W){E(T,W)&&U.push(W)}),U},file:function(E,U,T){if(arguments.length!==1)return E=this.root+E,n.call(this,E,U,T),this;if(I(E)){var W=E;return this.filter(function(K,st){return!st.dir&&W.test(K)})}var F=this.files[this.root+E];return F&&!F.dir?F:null},folder:function(E){if(!E)return this;if(I(E))return this.filter(function(F,K){return K.dir&&E.test(F)});var U=this.root+E,T=k.call(this,U),W=this.clone();return W.root=T.name,W},remove:function(E){E=this.root+E;var U=this.files[E];if(U||(E.slice(-1)!=="/"&&(E+="/"),U=this.files[E]),U&&!U.dir)delete this.files[E];else for(var T=this.filter(function(F,K){return K.name.slice(0,E.length)===E}),W=0;W<T.length;W++)delete this.files[T[W].name];return this},generate:function(E){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var U,T={};try{if((T=e.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=T.type.toLowerCase(),T.compression=T.compression.toUpperCase(),T.type==="binarystring"&&(T.type="string"),!T.type)throw new Error("No output type specified.");e.checkSupport(T.type),T.platform!=="darwin"&&T.platform!=="freebsd"&&T.platform!=="linux"&&T.platform!=="sunos"||(T.platform="UNIX"),T.platform==="win32"&&(T.platform="DOS");var W=T.comment||this.comment||"";U=f.generateWorker(this,T,W)}catch(F){(U=new u("error")).error(F)}return new x(U,T.type||"string",T.mimeType)},generateAsync:function(E,U){return this.generateInternalStream(E).accumulate(U)},generateNodeStream:function(E,U){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(U)}};d.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,d,a){d.exports=t("stream")},{stream:void 0}],17:[function(t,d,a){var n=t("./DataReader");function i(e){n.call(this,e);for(var u=0;u<this.data.length;u++)e[u]=255&e[u]}t("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var u=e.charCodeAt(0),x=e.charCodeAt(1),p=e.charCodeAt(2),l=e.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===u&&this.data[w+1]===x&&this.data[w+2]===p&&this.data[w+3]===l)return w-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var u=e.charCodeAt(0),x=e.charCodeAt(1),p=e.charCodeAt(2),l=e.charCodeAt(3),w=this.readData(4);return u===w[0]&&x===w[1]&&p===w[2]&&l===w[3]},i.prototype.readData=function(e){if(this.checkOffset(e),e===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,u},d.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,d,a){var n=t("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var u,x=0;for(this.checkOffset(e),u=this.index+e-1;u>=this.index;u--)x=(x<<8)+this.byteAt(u);return this.index+=e,x},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},d.exports=i},{"../utils":32}],19:[function(t,d,a){var n=t("./Uint8ArrayReader");function i(e){n.call(this,e)}t("../utils").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var u=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,u},d.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,d,a){var n=t("./DataReader");function i(e){n.call(this,e)}t("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var u=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,u},d.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,d,a){var n=t("./ArrayReader");function i(e){n.call(this,e)}t("../utils").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),e===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,u},d.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,d,a){var n=t("../utils"),i=t("../support"),e=t("./ArrayReader"),u=t("./StringReader"),x=t("./NodeBufferReader"),p=t("./Uint8ArrayReader");d.exports=function(l){var w=n.getTypeOf(l);return n.checkSupport(w),w!=="string"||i.uint8array?w==="nodebuffer"?new x(l):i.uint8array?new p(n.transformTo("uint8array",l)):new e(n.transformTo("array",l)):new u(l)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,d,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,d,a){var n=t("./GenericWorker"),i=t("../utils");function e(u){n.call(this,"ConvertWorker to "+u),this.destType=u}i.inherits(e,n),e.prototype.processChunk=function(u){this.push({data:i.transformTo(this.destType,u.data),meta:u.meta})},d.exports=e},{"../utils":32,"./GenericWorker":28}],25:[function(t,d,a){var n=t("./GenericWorker"),i=t("../crc32");function e(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(e,n),e.prototype.processChunk=function(u){this.streamInfo.crc32=i(u.data,this.streamInfo.crc32||0),this.push(u)},d.exports=e},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,d,a){var n=t("../utils"),i=t("./GenericWorker");function e(u){i.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}n.inherits(e,i),e.prototype.processChunk=function(u){if(u){var x=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=x+u.data.length}i.prototype.processChunk.call(this,u)},d.exports=e},{"../utils":32,"./GenericWorker":28}],27:[function(t,d,a){var n=t("../utils"),i=t("./GenericWorker");function e(u){i.call(this,"DataWorker");var x=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(p){x.dataIsReady=!0,x.data=p,x.max=p&&p.length||0,x.type=n.getTypeOf(p),x.isPaused||x._tickAndRepeat()},function(p){x.error(p)})}n.inherits(e,i),e.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},e.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},e.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},e.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,x=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,x);break;case"uint8array":u=this.data.subarray(this.index,x);break;case"array":case"nodebuffer":u=this.data.slice(this.index,x)}return this.index=x,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},d.exports=e},{"../utils":32,"./GenericWorker":28}],28:[function(t,d,a){function n(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,e){return this._listeners[i].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,e){if(this._listeners[i])for(var u=0;u<this._listeners[i].length;u++)this._listeners[i][u].call(this,e)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var e=this;return i.on("data",function(u){e.processChunk(u)}),i.on("end",function(){e.end()}),i.on("error",function(u){e.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,e){return this.extraStreamInfo[i]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},d.exports=n},{}],29:[function(t,d,a){var n=t("../utils"),i=t("./ConvertWorker"),e=t("./GenericWorker"),u=t("../base64"),x=t("../support"),p=t("../external"),l=null;if(x.nodestream)try{l=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(_,c){return new p.Promise(function(v,m){var k=[],I=_._internalType,N=_._outputType,E=_._mimeType;_.on("data",function(U,T){k.push(U),c&&c(T)}).on("error",function(U){k=[],m(U)}).on("end",function(){try{var U=function(T,W,F){switch(T){case"blob":return n.newBlob(n.transformTo("arraybuffer",W),F);case"base64":return u.encode(W);default:return n.transformTo(T,W)}}(N,function(T,W){var F,K=0,st=null,A=0;for(F=0;F<W.length;F++)A+=W[F].length;switch(T){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(st=new Uint8Array(A),F=0;F<W.length;F++)st.set(W[F],K),K+=W[F].length;return st;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+T+"'")}}(I,k),E);v(U)}catch(T){m(T)}k=[]}).resume()})}function f(_,c,v){var m=c;switch(c){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=c,this._mimeType=v,n.checkSupport(m),this._worker=_.pipe(new i(m)),_.lock()}catch(k){this._worker=new e("error"),this._worker.error(k)}}f.prototype={accumulate:function(_){return w(this,_)},on:function(_,c){var v=this;return _==="data"?this._worker.on(_,function(m){c.call(v,m.data,m.meta)}):this._worker.on(_,function(){n.delay(c,arguments,v)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:this._outputType!=="nodebuffer"},_)}},d.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,d,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",a.nodebuffer=typeof Buffer!="undefined",a.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")a.blob=!1;else{var n=new ArrayBuffer(0);try{a.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),a.blob=i.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!t("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(t,d,a){for(var n=t("./utils"),i=t("./support"),e=t("./nodejsUtils"),u=t("./stream/GenericWorker"),x=new Array(256),p=0;p<256;p++)x[p]=252<=p?6:248<=p?5:240<=p?4:224<=p?3:192<=p?2:1;x[254]=x[254]=1;function l(){u.call(this,"utf-8 decode"),this.leftOver=null}function w(){u.call(this,"utf-8 encode")}a.utf8encode=function(f){return i.nodebuffer?e.newBufferFrom(f,"utf-8"):function(_){var c,v,m,k,I,N=_.length,E=0;for(k=0;k<N;k++)(64512&(v=_.charCodeAt(k)))==55296&&k+1<N&&(64512&(m=_.charCodeAt(k+1)))==56320&&(v=65536+(v-55296<<10)+(m-56320),k++),E+=v<128?1:v<2048?2:v<65536?3:4;for(c=i.uint8array?new Uint8Array(E):new Array(E),k=I=0;I<E;k++)(64512&(v=_.charCodeAt(k)))==55296&&k+1<N&&(64512&(m=_.charCodeAt(k+1)))==56320&&(v=65536+(v-55296<<10)+(m-56320),k++),v<128?c[I++]=v:(v<2048?c[I++]=192|v>>>6:(v<65536?c[I++]=224|v>>>12:(c[I++]=240|v>>>18,c[I++]=128|v>>>12&63),c[I++]=128|v>>>6&63),c[I++]=128|63&v);return c}(f)},a.utf8decode=function(f){return i.nodebuffer?n.transformTo("nodebuffer",f).toString("utf-8"):function(_){var c,v,m,k,I=_.length,N=new Array(2*I);for(c=v=0;c<I;)if((m=_[c++])<128)N[v++]=m;else if(4<(k=x[m]))N[v++]=65533,c+=k-1;else{for(m&=k===2?31:k===3?15:7;1<k&&c<I;)m=m<<6|63&_[c++],k--;1<k?N[v++]=65533:m<65536?N[v++]=m:(m-=65536,N[v++]=55296|m>>10&1023,N[v++]=56320|1023&m)}return N.length!==v&&(N.subarray?N=N.subarray(0,v):N.length=v),n.applyFromCharCode(N)}(f=n.transformTo(i.uint8array?"uint8array":"array",f))},n.inherits(l,u),l.prototype.processChunk=function(f){var _=n.transformTo(i.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var c=_;(_=new Uint8Array(c.length+this.leftOver.length)).set(this.leftOver,0),_.set(c,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var v=function(k,I){var N;for((I=I||k.length)>k.length&&(I=k.length),N=I-1;0<=N&&(192&k[N])==128;)N--;return N<0||N===0?I:N+x[k[N]]>I?N:I}(_),m=_;v!==_.length&&(i.uint8array?(m=_.subarray(0,v),this.leftOver=_.subarray(v,_.length)):(m=_.slice(0,v),this.leftOver=_.slice(v,_.length))),this.push({data:a.utf8decode(m),meta:f.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=l,n.inherits(w,u),w.prototype.processChunk=function(f){this.push({data:a.utf8encode(f.data),meta:f.meta})},a.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,d,a){var n=t("./support"),i=t("./base64"),e=t("./nodejsUtils"),u=t("./external");function x(c){return c}function p(c,v){for(var m=0;m<c.length;++m)v[m]=255&c.charCodeAt(m);return v}t("setimmediate"),a.newBlob=function(c,v){a.checkSupport("blob");try{return new Blob([c],{type:v})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(c),m.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(c,v,m){var k=[],I=0,N=c.length;if(N<=m)return String.fromCharCode.apply(null,c);for(;I<N;)v==="array"||v==="nodebuffer"?k.push(String.fromCharCode.apply(null,c.slice(I,Math.min(I+m,N)))):k.push(String.fromCharCode.apply(null,c.subarray(I,Math.min(I+m,N)))),I+=m;return k.join("")},stringifyByChar:function(c){for(var v="",m=0;m<c.length;m++)v+=String.fromCharCode(c[m]);return v},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,e.allocBuffer(1)).length===1}catch{return!1}}()}};function w(c){var v=65536,m=a.getTypeOf(c),k=!0;if(m==="uint8array"?k=l.applyCanBeUsed.uint8array:m==="nodebuffer"&&(k=l.applyCanBeUsed.nodebuffer),k)for(;1<v;)try{return l.stringifyByChunk(c,m,v)}catch{v=Math.floor(v/2)}return l.stringifyByChar(c)}function f(c,v){for(var m=0;m<c.length;m++)v[m]=c[m];return v}a.applyFromCharCode=w;var _={};_.string={string:x,array:function(c){return p(c,new Array(c.length))},arraybuffer:function(c){return _.string.uint8array(c).buffer},uint8array:function(c){return p(c,new Uint8Array(c.length))},nodebuffer:function(c){return p(c,e.allocBuffer(c.length))}},_.array={string:w,array:x,arraybuffer:function(c){return new Uint8Array(c).buffer},uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return e.newBufferFrom(c)}},_.arraybuffer={string:function(c){return w(new Uint8Array(c))},array:function(c){return f(new Uint8Array(c),new Array(c.byteLength))},arraybuffer:x,uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return e.newBufferFrom(new Uint8Array(c))}},_.uint8array={string:w,array:function(c){return f(c,new Array(c.length))},arraybuffer:function(c){return c.buffer},uint8array:x,nodebuffer:function(c){return e.newBufferFrom(c)}},_.nodebuffer={string:w,array:function(c){return f(c,new Array(c.length))},arraybuffer:function(c){return _.nodebuffer.uint8array(c).buffer},uint8array:function(c){return f(c,new Uint8Array(c.length))},nodebuffer:x},a.transformTo=function(c,v){if(v=v||"",!c)return v;a.checkSupport(c);var m=a.getTypeOf(v);return _[m][c](v)},a.resolve=function(c){for(var v=c.split("/"),m=[],k=0;k<v.length;k++){var I=v[k];I==="."||I===""&&k!==0&&k!==v.length-1||(I===".."?m.pop():m.push(I))}return m.join("/")},a.getTypeOf=function(c){return typeof c=="string"?"string":Object.prototype.toString.call(c)==="[object Array]"?"array":n.nodebuffer&&e.isBuffer(c)?"nodebuffer":n.uint8array&&c instanceof Uint8Array?"uint8array":n.arraybuffer&&c instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(c){if(!n[c.toLowerCase()])throw new Error(c+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(c){var v,m,k="";for(m=0;m<(c||"").length;m++)k+="\\x"+((v=c.charCodeAt(m))<16?"0":"")+v.toString(16).toUpperCase();return k},a.delay=function(c,v,m){setImmediate(function(){c.apply(m||null,v||[])})},a.inherits=function(c,v){function m(){}m.prototype=v.prototype,c.prototype=new m},a.extend=function(){var c,v,m={};for(c=0;c<arguments.length;c++)for(v in arguments[c])arguments[c].hasOwnProperty(v)&&m[v]===void 0&&(m[v]=arguments[c][v]);return m},a.prepareContent=function(c,v,m,k,I){return u.Promise.resolve(v).then(function(N){return n.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader!="undefined"?new u.Promise(function(E,U){var T=new FileReader;T.onload=function(W){E(W.target.result)},T.onerror=function(W){U(W.target.error)},T.readAsArrayBuffer(N)}):N}).then(function(N){var E=a.getTypeOf(N);return E?(E==="arraybuffer"?N=a.transformTo("uint8array",N):E==="string"&&(I?N=i.decode(N):m&&k!==!0&&(N=function(U){return p(U,n.uint8array?new Uint8Array(U.length):new Array(U.length))}(N))),N):u.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,d,a){var n=t("./reader/readerFor"),i=t("./utils"),e=t("./signature"),u=t("./zipEntry"),x=(t("./utf8"),t("./support"));function p(l){this.files=[],this.loadOptions=l}p.prototype={checkSignature:function(l){if(!this.reader.readAndCheckSignature(l)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(w)+", expected "+i.pretty(l)+")")}},isSignature:function(l,w){var f=this.reader.index;this.reader.setIndex(l);var _=this.reader.readString(4)===w;return this.reader.setIndex(f),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var l=this.reader.readData(this.zipCommentLength),w=x.uint8array?"uint8array":"array",f=i.transformTo(w,l);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var l,w,f,_=this.zip64EndOfCentralSize-44;0<_;)l=this.reader.readInt(2),w=this.reader.readInt(4),f=this.reader.readData(w),this.zip64ExtensibleData[l]={id:l,length:w,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var l,w;for(l=0;l<this.files.length;l++)w=this.files[l],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(e.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var l;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(e.CENTRAL_FILE_HEADER);)(l=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(l);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var l=this.reader.lastIndexOfSignature(e.CENTRAL_DIRECTORY_END);if(l<0)throw this.isSignature(0,e.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(l);var w=l;if(this.checkSignature(e.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(l=this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(l),this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,e.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var _=w-f;if(0<_)this.isSignature(w,e.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(l){this.reader=n(l)},load:function(l){this.prepareReader(l),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},d.exports=p},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,d,a){var n=t("./reader/readerFor"),i=t("./utils"),e=t("./compressedObject"),u=t("./crc32"),x=t("./utf8"),p=t("./compressions"),l=t("./support");function w(f,_){this.options=f,this.loadOptions=_}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var _,c;if(f.skip(22),this.fileNameLength=f.readInt(2),c=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(v){for(var m in p)if(p.hasOwnProperty(m)&&p[m].magic===v)return p[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new e(this.compressedSize,this.uncompressedSize,this.crc32,_,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var _=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(_),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(f){if(this.extraFields[1]){var _=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(f){var _,c,v,m=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<m;)_=f.readInt(2),c=f.readInt(2),v=f.readData(c),this.extraFields[_]={id:_,length:c,value:v};f.setIndex(m)},handleUTF8:function(){var f=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=x.utf8decode(this.fileName),this.fileCommentStr=x.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var c=i.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var m=i.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var _=n(f.value);return _.readInt(1)!==1||u(this.fileName)!==_.readInt(4)?null:x.utf8decode(_.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var _=n(f.value);return _.readInt(1)!==1||u(this.fileComment)!==_.readInt(4)?null:x.utf8decode(_.readData(f.length-5))}return null}},d.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,d,a){function n(_,c,v){this.name=_,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=c,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var i=t("./stream/StreamHelper"),e=t("./stream/DataWorker"),u=t("./utf8"),x=t("./compressedObject"),p=t("./stream/GenericWorker");n.prototype={internalStream:function(_){var c=null,v="string";try{if(!_)throw new Error("No output type specified.");var m=(v=_.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),c=this._decompressWorker();var k=!this._dataBinary;k&&!m&&(c=c.pipe(new u.Utf8EncodeWorker)),!k&&m&&(c=c.pipe(new u.Utf8DecodeWorker))}catch(I){(c=new p("error")).error(I)}return new i(c,v,"")},async:function(_,c){return this.internalStream(_).accumulate(c)},nodeStream:function(_,c){return this.internalStream(_||"nodebuffer").toNodejsStream(c)},_compressWorker:function(_,c){if(this._data instanceof x&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new u.Utf8EncodeWorker)),x.createWorkerFrom(v,_,c)},_decompressWorker:function(){return this._data instanceof x?this._data.getContentWorker():this._data instanceof p?this._data:new e(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<l.length;f++)n.prototype[l[f]]=w;d.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,d,a){(function(n){var i,e,u=n.MutationObserver||n.WebKitMutationObserver;if(u){var x=0,p=new u(_),l=n.document.createTextNode("");p.observe(l,{characterData:!0}),i=function(){l.data=x=++x%2}}else if(n.setImmediate||n.MessageChannel===void 0)i="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var c=n.document.createElement("script");c.onreadystatechange=function(){_(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},n.document.documentElement.appendChild(c)}:function(){setTimeout(_,0)};else{var w=new n.MessageChannel;w.port1.onmessage=_,i=function(){w.port2.postMessage(0)}}var f=[];function _(){var c,v;e=!0;for(var m=f.length;m;){for(v=f,f=[],c=-1;++c<m;)v[c]();m=f.length}e=!1}d.exports=function(c){f.push(c)!==1||e||i()}}).call(this,typeof Jt!="undefined"?Jt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(t,d,a){var n=t("immediate");function i(){}var e={},u=["REJECTED"],x=["FULFILLED"],p=["PENDING"];function l(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,m!==i&&c(this,m)}function w(m,k,I){this.promise=m,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function f(m,k,I){n(function(){var N;try{N=k(I)}catch(E){return e.reject(m,E)}N===m?e.reject(m,new TypeError("Cannot resolve promise with itself")):e.resolve(m,N)})}function _(m){var k=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof k=="function")return function(){k.apply(m,arguments)}}function c(m,k){var I=!1;function N(T){I||(I=!0,e.reject(m,T))}function E(T){I||(I=!0,e.resolve(m,T))}var U=v(function(){k(E,N)});U.status==="error"&&N(U.value)}function v(m,k){var I={};try{I.value=m(k),I.status="success"}catch(N){I.status="error",I.value=N}return I}(d.exports=l).prototype.finally=function(m){if(typeof m!="function")return this;var k=this.constructor;return this.then(function(I){return k.resolve(m()).then(function(){return I})},function(I){return k.resolve(m()).then(function(){throw I})})},l.prototype.catch=function(m){return this.then(null,m)},l.prototype.then=function(m,k){if(typeof m!="function"&&this.state===x||typeof k!="function"&&this.state===u)return this;var I=new this.constructor(i);return this.state!==p?f(I,this.state===x?m:k,this.outcome):this.queue.push(new w(I,m,k)),I},w.prototype.callFulfilled=function(m){e.resolve(this.promise,m)},w.prototype.otherCallFulfilled=function(m){f(this.promise,this.onFulfilled,m)},w.prototype.callRejected=function(m){e.reject(this.promise,m)},w.prototype.otherCallRejected=function(m){f(this.promise,this.onRejected,m)},e.resolve=function(m,k){var I=v(_,k);if(I.status==="error")return e.reject(m,I.value);var N=I.value;if(N)c(m,N);else{m.state=x,m.outcome=k;for(var E=-1,U=m.queue.length;++E<U;)m.queue[E].callFulfilled(k)}return m},e.reject=function(m,k){m.state=u,m.outcome=k;for(var I=-1,N=m.queue.length;++I<N;)m.queue[I].callRejected(k);return m},l.resolve=function(m){return m instanceof this?m:e.resolve(new this(i),m)},l.reject=function(m){var k=new this(i);return e.reject(k,m)},l.all=function(m){var k=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=m.length,N=!1;if(!I)return this.resolve([]);for(var E=new Array(I),U=0,T=-1,W=new this(i);++T<I;)F(m[T],T);return W;function F(K,st){k.resolve(K).then(function(A){E[st]=A,++U!==I||N||(N=!0,e.resolve(W,E))},function(A){N||(N=!0,e.reject(W,A))})}},l.race=function(m){var k=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=m.length,N=!1;if(!I)return this.resolve([]);for(var E=-1,U=new this(i);++E<I;)T=m[E],k.resolve(T).then(function(W){N||(N=!0,e.resolve(U,W))},function(W){N||(N=!0,e.reject(U,W))});var T;return U}},{immediate:36}],38:[function(t,d,a){var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),d.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,d,a){var n=t("./zlib/deflate"),i=t("./utils/common"),e=t("./utils/strings"),u=t("./zlib/messages"),x=t("./zlib/zstream"),p=Object.prototype.toString,l=0,w=-1,f=0,_=8;function c(m){if(!(this instanceof c))return new c(m);this.options=i.assign({level:w,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},m||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new x,this.strm.avail_out=0;var I=n.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(I!==l)throw new Error(u[I]);if(k.header&&n.deflateSetHeader(this.strm,k.header),k.dictionary){var N;if(N=typeof k.dictionary=="string"?e.string2buf(k.dictionary):p.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(I=n.deflateSetDictionary(this.strm,N))!==l)throw new Error(u[I]);this._dict_set=!0}}function v(m,k){var I=new c(k);if(I.push(m,!0),I.err)throw I.msg||u[I.err];return I.result}c.prototype.push=function(m,k){var I,N,E=this.strm,U=this.options.chunkSize;if(this.ended)return!1;N=k===~~k?k:k===!0?4:0,typeof m=="string"?E.input=e.string2buf(m):p.call(m)==="[object ArrayBuffer]"?E.input=new Uint8Array(m):E.input=m,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new i.Buf8(U),E.next_out=0,E.avail_out=U),(I=n.deflate(E,N))!==1&&I!==l)return this.onEnd(I),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||N!==4&&N!==2)||(this.options.to==="string"?this.onData(e.buf2binstring(i.shrinkBuf(E.output,E.next_out))):this.onData(i.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&I!==1);return N===4?(I=n.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===l):N!==2||(this.onEnd(l),!(E.avail_out=0))},c.prototype.onData=function(m){this.chunks.push(m)},c.prototype.onEnd=function(m){m===l&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},a.Deflate=c,a.deflate=v,a.deflateRaw=function(m,k){return(k=k||{}).raw=!0,v(m,k)},a.gzip=function(m,k){return(k=k||{}).gzip=!0,v(m,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,d,a){var n=t("./zlib/inflate"),i=t("./utils/common"),e=t("./utils/strings"),u=t("./zlib/constants"),x=t("./zlib/messages"),p=t("./zlib/zstream"),l=t("./zlib/gzheader"),w=Object.prototype.toString;function f(c){if(!(this instanceof f))return new f(c);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},c||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||c&&c.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&(15&v.windowBits)==0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new p,this.strm.avail_out=0;var m=n.inflateInit2(this.strm,v.windowBits);if(m!==u.Z_OK)throw new Error(x[m]);this.header=new l,n.inflateGetHeader(this.strm,this.header)}function _(c,v){var m=new f(v);if(m.push(c,!0),m.err)throw m.msg||x[m.err];return m.result}f.prototype.push=function(c,v){var m,k,I,N,E,U,T=this.strm,W=this.options.chunkSize,F=this.options.dictionary,K=!1;if(this.ended)return!1;k=v===~~v?v:v===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof c=="string"?T.input=e.binstring2buf(c):w.call(c)==="[object ArrayBuffer]"?T.input=new Uint8Array(c):T.input=c,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new i.Buf8(W),T.next_out=0,T.avail_out=W),(m=n.inflate(T,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&F&&(U=typeof F=="string"?e.string2buf(F):w.call(F)==="[object ArrayBuffer]"?new Uint8Array(F):F,m=n.inflateSetDictionary(this.strm,U)),m===u.Z_BUF_ERROR&&K===!0&&(m=u.Z_OK,K=!1),m!==u.Z_STREAM_END&&m!==u.Z_OK)return this.onEnd(m),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&m!==u.Z_STREAM_END&&(T.avail_in!==0||k!==u.Z_FINISH&&k!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=e.utf8border(T.output,T.next_out),N=T.next_out-I,E=e.buf2string(T.output,I),T.next_out=N,T.avail_out=W-N,N&&i.arraySet(T.output,T.output,I,N,0),this.onData(E)):this.onData(i.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(K=!0)}while((0<T.avail_in||T.avail_out===0)&&m!==u.Z_STREAM_END);return m===u.Z_STREAM_END&&(k=u.Z_FINISH),k===u.Z_FINISH?(m=n.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===u.Z_OK):k!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(T.avail_out=0))},f.prototype.onData=function(c){this.chunks.push(c)},f.prototype.onEnd=function(c){c===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},a.Inflate=f,a.inflate=_,a.inflateRaw=function(c,v){return(v=v||{}).raw=!0,_(c,v)},a.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,d,a){var n=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";a.assign=function(u){for(var x=Array.prototype.slice.call(arguments,1);x.length;){var p=x.shift();if(p){if(typeof p!="object")throw new TypeError(p+"must be non-object");for(var l in p)p.hasOwnProperty(l)&&(u[l]=p[l])}}return u},a.shrinkBuf=function(u,x){return u.length===x?u:u.subarray?u.subarray(0,x):(u.length=x,u)};var i={arraySet:function(u,x,p,l,w){if(x.subarray&&u.subarray)u.set(x.subarray(p,p+l),w);else for(var f=0;f<l;f++)u[w+f]=x[p+f]},flattenChunks:function(u){var x,p,l,w,f,_;for(x=l=0,p=u.length;x<p;x++)l+=u[x].length;for(_=new Uint8Array(l),x=w=0,p=u.length;x<p;x++)f=u[x],_.set(f,w),w+=f.length;return _}},e={arraySet:function(u,x,p,l,w){for(var f=0;f<l;f++)u[w+f]=x[p+f]},flattenChunks:function(u){return[].concat.apply([],u)}};a.setTyped=function(u){u?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,i)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,e))},a.setTyped(n)},{}],42:[function(t,d,a){var n=t("./common"),i=!0,e=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{e=!1}for(var u=new n.Buf8(256),x=0;x<256;x++)u[x]=252<=x?6:248<=x?5:240<=x?4:224<=x?3:192<=x?2:1;function p(l,w){if(w<65537&&(l.subarray&&e||!l.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(l,w));for(var f="",_=0;_<w;_++)f+=String.fromCharCode(l[_]);return f}u[254]=u[254]=1,a.string2buf=function(l){var w,f,_,c,v,m=l.length,k=0;for(c=0;c<m;c++)(64512&(f=l.charCodeAt(c)))==55296&&c+1<m&&(64512&(_=l.charCodeAt(c+1)))==56320&&(f=65536+(f-55296<<10)+(_-56320),c++),k+=f<128?1:f<2048?2:f<65536?3:4;for(w=new n.Buf8(k),c=v=0;v<k;c++)(64512&(f=l.charCodeAt(c)))==55296&&c+1<m&&(64512&(_=l.charCodeAt(c+1)))==56320&&(f=65536+(f-55296<<10)+(_-56320),c++),f<128?w[v++]=f:(f<2048?w[v++]=192|f>>>6:(f<65536?w[v++]=224|f>>>12:(w[v++]=240|f>>>18,w[v++]=128|f>>>12&63),w[v++]=128|f>>>6&63),w[v++]=128|63&f);return w},a.buf2binstring=function(l){return p(l,l.length)},a.binstring2buf=function(l){for(var w=new n.Buf8(l.length),f=0,_=w.length;f<_;f++)w[f]=l.charCodeAt(f);return w},a.buf2string=function(l,w){var f,_,c,v,m=w||l.length,k=new Array(2*m);for(f=_=0;f<m;)if((c=l[f++])<128)k[_++]=c;else if(4<(v=u[c]))k[_++]=65533,f+=v-1;else{for(c&=v===2?31:v===3?15:7;1<v&&f<m;)c=c<<6|63&l[f++],v--;1<v?k[_++]=65533:c<65536?k[_++]=c:(c-=65536,k[_++]=55296|c>>10&1023,k[_++]=56320|1023&c)}return p(k,_)},a.utf8border=function(l,w){var f;for((w=w||l.length)>l.length&&(w=l.length),f=w-1;0<=f&&(192&l[f])==128;)f--;return f<0||f===0?w:f+u[l[f]]>w?f:w}},{"./common":41}],43:[function(t,d,a){d.exports=function(n,i,e,u){for(var x=65535&n|0,p=n>>>16&65535|0,l=0;e!==0;){for(e-=l=2e3<e?2e3:e;p=p+(x=x+i[u++]|0)|0,--l;);x%=65521,p%=65521}return x|p<<16|0}},{}],44:[function(t,d,a){d.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,d,a){var n=function(){for(var i,e=[],u=0;u<256;u++){i=u;for(var x=0;x<8;x++)i=1&i?3988292384^i>>>1:i>>>1;e[u]=i}return e}();d.exports=function(i,e,u,x){var p=n,l=x+u;i^=-1;for(var w=x;w<l;w++)i=i>>>8^p[255&(i^e[w])];return-1^i}},{}],46:[function(t,d,a){var n,i=t("../utils/common"),e=t("./trees"),u=t("./adler32"),x=t("./crc32"),p=t("./messages"),l=0,w=4,f=0,_=-2,c=-1,v=4,m=2,k=8,I=9,N=286,E=30,U=19,T=2*N+1,W=15,F=3,K=258,st=K+F+1,A=42,$=113,o=1,H=2,ct=3,J=4;function ht(r,M){return r.msg=p[M],M}function V(r){return(r<<1)-(4<r?9:0)}function lt(r){for(var M=r.length;0<=--M;)r[M]=0}function L(r){var M=r.state,j=M.pending;j>r.avail_out&&(j=r.avail_out),j!==0&&(i.arraySet(r.output,M.pending_buf,M.pending_out,j,r.next_out),r.next_out+=j,M.pending_out+=j,r.total_out+=j,r.avail_out-=j,M.pending-=j,M.pending===0&&(M.pending_out=0))}function P(r,M){e._tr_flush_block(r,0<=r.block_start?r.block_start:-1,r.strstart-r.block_start,M),r.block_start=r.strstart,L(r.strm)}function ft(r,M){r.pending_buf[r.pending++]=M}function at(r,M){r.pending_buf[r.pending++]=M>>>8&255,r.pending_buf[r.pending++]=255&M}function nt(r,M){var j,S,y=r.max_chain_length,z=r.strstart,q=r.prev_length,Y=r.nice_match,B=r.strstart>r.w_size-st?r.strstart-(r.w_size-st):0,Q=r.window,it=r.w_mask,et=r.prev,ut=r.strstart+K,gt=Q[z+q-1],pt=Q[z+q];r.prev_length>=r.good_match&&(y>>=2),Y>r.lookahead&&(Y=r.lookahead);do if(Q[(j=M)+q]===pt&&Q[j+q-1]===gt&&Q[j]===Q[z]&&Q[++j]===Q[z+1]){z+=2,j++;do;while(Q[++z]===Q[++j]&&Q[++z]===Q[++j]&&Q[++z]===Q[++j]&&Q[++z]===Q[++j]&&Q[++z]===Q[++j]&&Q[++z]===Q[++j]&&Q[++z]===Q[++j]&&Q[++z]===Q[++j]&&z<ut);if(S=K-(ut-z),z=ut-K,q<S){if(r.match_start=M,Y<=(q=S))break;gt=Q[z+q-1],pt=Q[z+q]}}while((M=et[M&it])>B&&--y!=0);return q<=r.lookahead?q:r.lookahead}function kt(r){var M,j,S,y,z,q,Y,B,Q,it,et=r.w_size;do{if(y=r.window_size-r.lookahead-r.strstart,r.strstart>=et+(et-st)){for(i.arraySet(r.window,r.window,et,et,0),r.match_start-=et,r.strstart-=et,r.block_start-=et,M=j=r.hash_size;S=r.head[--M],r.head[M]=et<=S?S-et:0,--j;);for(M=j=et;S=r.prev[--M],r.prev[M]=et<=S?S-et:0,--j;);y+=et}if(r.strm.avail_in===0)break;if(q=r.strm,Y=r.window,B=r.strstart+r.lookahead,Q=y,it=void 0,it=q.avail_in,Q<it&&(it=Q),j=it===0?0:(q.avail_in-=it,i.arraySet(Y,q.input,q.next_in,it,B),q.state.wrap===1?q.adler=u(q.adler,Y,it,B):q.state.wrap===2&&(q.adler=x(q.adler,Y,it,B)),q.next_in+=it,q.total_in+=it,it),r.lookahead+=j,r.lookahead+r.insert>=F)for(z=r.strstart-r.insert,r.ins_h=r.window[z],r.ins_h=(r.ins_h<<r.hash_shift^r.window[z+1])&r.hash_mask;r.insert&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[z+F-1])&r.hash_mask,r.prev[z&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=z,z++,r.insert--,!(r.lookahead+r.insert<F)););}while(r.lookahead<st&&r.strm.avail_in!==0)}function Ct(r,M){for(var j,S;;){if(r.lookahead<st){if(kt(r),r.lookahead<st&&M===l)return o;if(r.lookahead===0)break}if(j=0,r.lookahead>=F&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+F-1])&r.hash_mask,j=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),j!==0&&r.strstart-j<=r.w_size-st&&(r.match_length=nt(r,j)),r.match_length>=F)if(S=e._tr_tally(r,r.strstart-r.match_start,r.match_length-F),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=F){for(r.match_length--;r.strstart++,r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+F-1])&r.hash_mask,j=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart,--r.match_length!=0;);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+1])&r.hash_mask;else S=e._tr_tally(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(S&&(P(r,!1),r.strm.avail_out===0))return o}return r.insert=r.strstart<F-1?r.strstart:F-1,M===w?(P(r,!0),r.strm.avail_out===0?ct:J):r.last_lit&&(P(r,!1),r.strm.avail_out===0)?o:H}function mt(r,M){for(var j,S,y;;){if(r.lookahead<st){if(kt(r),r.lookahead<st&&M===l)return o;if(r.lookahead===0)break}if(j=0,r.lookahead>=F&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+F-1])&r.hash_mask,j=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=F-1,j!==0&&r.prev_length<r.max_lazy_match&&r.strstart-j<=r.w_size-st&&(r.match_length=nt(r,j),r.match_length<=5&&(r.strategy===1||r.match_length===F&&4096<r.strstart-r.match_start)&&(r.match_length=F-1)),r.prev_length>=F&&r.match_length<=r.prev_length){for(y=r.strstart+r.lookahead-F,S=e._tr_tally(r,r.strstart-1-r.prev_match,r.prev_length-F),r.lookahead-=r.prev_length-1,r.prev_length-=2;++r.strstart<=y&&(r.ins_h=(r.ins_h<<r.hash_shift^r.window[r.strstart+F-1])&r.hash_mask,j=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),--r.prev_length!=0;);if(r.match_available=0,r.match_length=F-1,r.strstart++,S&&(P(r,!1),r.strm.avail_out===0))return o}else if(r.match_available){if((S=e._tr_tally(r,0,r.window[r.strstart-1]))&&P(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return o}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(S=e._tr_tally(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<F-1?r.strstart:F-1,M===w?(P(r,!0),r.strm.avail_out===0?ct:J):r.last_lit&&(P(r,!1),r.strm.avail_out===0)?o:H}function _t(r,M,j,S,y){this.good_length=r,this.max_lazy=M,this.nice_length=j,this.max_chain=S,this.func=y}function Et(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*T),this.dyn_dtree=new i.Buf16(2*(2*E+1)),this.bl_tree=new i.Buf16(2*(2*U+1)),lt(this.dyn_ltree),lt(this.dyn_dtree),lt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(W+1),this.heap=new i.Buf16(2*N+1),lt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*N+1),lt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function xt(r){var M;return r&&r.state?(r.total_in=r.total_out=0,r.data_type=m,(M=r.state).pending=0,M.pending_out=0,M.wrap<0&&(M.wrap=-M.wrap),M.status=M.wrap?A:$,r.adler=M.wrap===2?0:1,M.last_flush=l,e._tr_init(M),f):ht(r,_)}function Ft(r){var M=xt(r);return M===f&&function(j){j.window_size=2*j.w_size,lt(j.head),j.max_lazy_match=n[j.level].max_lazy,j.good_match=n[j.level].good_length,j.nice_match=n[j.level].nice_length,j.max_chain_length=n[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=F-1,j.match_available=0,j.ins_h=0}(r.state),M}function Tt(r,M,j,S,y,z){if(!r)return _;var q=1;if(M===c&&(M=6),S<0?(q=0,S=-S):15<S&&(q=2,S-=16),y<1||I<y||j!==k||S<8||15<S||M<0||9<M||z<0||v<z)return ht(r,_);S===8&&(S=9);var Y=new Et;return(r.state=Y).strm=r,Y.wrap=q,Y.gzhead=null,Y.w_bits=S,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=y+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+F-1)/F),Y.window=new i.Buf8(2*Y.w_size),Y.head=new i.Buf16(Y.hash_size),Y.prev=new i.Buf16(Y.w_size),Y.lit_bufsize=1<<y+6,Y.pending_buf_size=4*Y.lit_bufsize,Y.pending_buf=new i.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=M,Y.strategy=z,Y.method=j,Ft(r)}n=[new _t(0,0,0,0,function(r,M){var j=65535;for(j>r.pending_buf_size-5&&(j=r.pending_buf_size-5);;){if(r.lookahead<=1){if(kt(r),r.lookahead===0&&M===l)return o;if(r.lookahead===0)break}r.strstart+=r.lookahead,r.lookahead=0;var S=r.block_start+j;if((r.strstart===0||r.strstart>=S)&&(r.lookahead=r.strstart-S,r.strstart=S,P(r,!1),r.strm.avail_out===0)||r.strstart-r.block_start>=r.w_size-st&&(P(r,!1),r.strm.avail_out===0))return o}return r.insert=0,M===w?(P(r,!0),r.strm.avail_out===0?ct:J):(r.strstart>r.block_start&&(P(r,!1),r.strm.avail_out),o)}),new _t(4,4,8,4,Ct),new _t(4,5,16,8,Ct),new _t(4,6,32,32,Ct),new _t(4,4,16,16,mt),new _t(8,16,32,32,mt),new _t(8,16,128,128,mt),new _t(8,32,128,256,mt),new _t(32,128,258,1024,mt),new _t(32,258,258,4096,mt)],a.deflateInit=function(r,M){return Tt(r,M,k,15,8,0)},a.deflateInit2=Tt,a.deflateReset=Ft,a.deflateResetKeep=xt,a.deflateSetHeader=function(r,M){return r&&r.state?r.state.wrap!==2?_:(r.state.gzhead=M,f):_},a.deflate=function(r,M){var j,S,y,z;if(!r||!r.state||5<M||M<0)return r?ht(r,_):_;if(S=r.state,!r.output||!r.input&&r.avail_in!==0||S.status===666&&M!==w)return ht(r,r.avail_out===0?-5:_);if(S.strm=r,j=S.last_flush,S.last_flush=M,S.status===A)if(S.wrap===2)r.adler=0,ft(S,31),ft(S,139),ft(S,8),S.gzhead?(ft(S,(S.gzhead.text?1:0)+(S.gzhead.hcrc?2:0)+(S.gzhead.extra?4:0)+(S.gzhead.name?8:0)+(S.gzhead.comment?16:0)),ft(S,255&S.gzhead.time),ft(S,S.gzhead.time>>8&255),ft(S,S.gzhead.time>>16&255),ft(S,S.gzhead.time>>24&255),ft(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),ft(S,255&S.gzhead.os),S.gzhead.extra&&S.gzhead.extra.length&&(ft(S,255&S.gzhead.extra.length),ft(S,S.gzhead.extra.length>>8&255)),S.gzhead.hcrc&&(r.adler=x(r.adler,S.pending_buf,S.pending,0)),S.gzindex=0,S.status=69):(ft(S,0),ft(S,0),ft(S,0),ft(S,0),ft(S,0),ft(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),ft(S,3),S.status=$);else{var q=k+(S.w_bits-8<<4)<<8;q|=(2<=S.strategy||S.level<2?0:S.level<6?1:S.level===6?2:3)<<6,S.strstart!==0&&(q|=32),q+=31-q%31,S.status=$,at(S,q),S.strstart!==0&&(at(S,r.adler>>>16),at(S,65535&r.adler)),r.adler=1}if(S.status===69)if(S.gzhead.extra){for(y=S.pending;S.gzindex<(65535&S.gzhead.extra.length)&&(S.pending!==S.pending_buf_size||(S.gzhead.hcrc&&S.pending>y&&(r.adler=x(r.adler,S.pending_buf,S.pending-y,y)),L(r),y=S.pending,S.pending!==S.pending_buf_size));)ft(S,255&S.gzhead.extra[S.gzindex]),S.gzindex++;S.gzhead.hcrc&&S.pending>y&&(r.adler=x(r.adler,S.pending_buf,S.pending-y,y)),S.gzindex===S.gzhead.extra.length&&(S.gzindex=0,S.status=73)}else S.status=73;if(S.status===73)if(S.gzhead.name){y=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>y&&(r.adler=x(r.adler,S.pending_buf,S.pending-y,y)),L(r),y=S.pending,S.pending===S.pending_buf_size)){z=1;break}z=S.gzindex<S.gzhead.name.length?255&S.gzhead.name.charCodeAt(S.gzindex++):0,ft(S,z)}while(z!==0);S.gzhead.hcrc&&S.pending>y&&(r.adler=x(r.adler,S.pending_buf,S.pending-y,y)),z===0&&(S.gzindex=0,S.status=91)}else S.status=91;if(S.status===91)if(S.gzhead.comment){y=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>y&&(r.adler=x(r.adler,S.pending_buf,S.pending-y,y)),L(r),y=S.pending,S.pending===S.pending_buf_size)){z=1;break}z=S.gzindex<S.gzhead.comment.length?255&S.gzhead.comment.charCodeAt(S.gzindex++):0,ft(S,z)}while(z!==0);S.gzhead.hcrc&&S.pending>y&&(r.adler=x(r.adler,S.pending_buf,S.pending-y,y)),z===0&&(S.status=103)}else S.status=103;if(S.status===103&&(S.gzhead.hcrc?(S.pending+2>S.pending_buf_size&&L(r),S.pending+2<=S.pending_buf_size&&(ft(S,255&r.adler),ft(S,r.adler>>8&255),r.adler=0,S.status=$)):S.status=$),S.pending!==0){if(L(r),r.avail_out===0)return S.last_flush=-1,f}else if(r.avail_in===0&&V(M)<=V(j)&&M!==w)return ht(r,-5);if(S.status===666&&r.avail_in!==0)return ht(r,-5);if(r.avail_in!==0||S.lookahead!==0||M!==l&&S.status!==666){var Y=S.strategy===2?function(B,Q){for(var it;;){if(B.lookahead===0&&(kt(B),B.lookahead===0)){if(Q===l)return o;break}if(B.match_length=0,it=e._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++,it&&(P(B,!1),B.strm.avail_out===0))return o}return B.insert=0,Q===w?(P(B,!0),B.strm.avail_out===0?ct:J):B.last_lit&&(P(B,!1),B.strm.avail_out===0)?o:H}(S,M):S.strategy===3?function(B,Q){for(var it,et,ut,gt,pt=B.window;;){if(B.lookahead<=K){if(kt(B),B.lookahead<=K&&Q===l)return o;if(B.lookahead===0)break}if(B.match_length=0,B.lookahead>=F&&0<B.strstart&&(et=pt[ut=B.strstart-1])===pt[++ut]&&et===pt[++ut]&&et===pt[++ut]){gt=B.strstart+K;do;while(et===pt[++ut]&&et===pt[++ut]&&et===pt[++ut]&&et===pt[++ut]&&et===pt[++ut]&&et===pt[++ut]&&et===pt[++ut]&&et===pt[++ut]&&ut<gt);B.match_length=K-(gt-ut),B.match_length>B.lookahead&&(B.match_length=B.lookahead)}if(B.match_length>=F?(it=e._tr_tally(B,1,B.match_length-F),B.lookahead-=B.match_length,B.strstart+=B.match_length,B.match_length=0):(it=e._tr_tally(B,0,B.window[B.strstart]),B.lookahead--,B.strstart++),it&&(P(B,!1),B.strm.avail_out===0))return o}return B.insert=0,Q===w?(P(B,!0),B.strm.avail_out===0?ct:J):B.last_lit&&(P(B,!1),B.strm.avail_out===0)?o:H}(S,M):n[S.level].func(S,M);if(Y!==ct&&Y!==J||(S.status=666),Y===o||Y===ct)return r.avail_out===0&&(S.last_flush=-1),f;if(Y===H&&(M===1?e._tr_align(S):M!==5&&(e._tr_stored_block(S,0,0,!1),M===3&&(lt(S.head),S.lookahead===0&&(S.strstart=0,S.block_start=0,S.insert=0))),L(r),r.avail_out===0))return S.last_flush=-1,f}return M!==w?f:S.wrap<=0?1:(S.wrap===2?(ft(S,255&r.adler),ft(S,r.adler>>8&255),ft(S,r.adler>>16&255),ft(S,r.adler>>24&255),ft(S,255&r.total_in),ft(S,r.total_in>>8&255),ft(S,r.total_in>>16&255),ft(S,r.total_in>>24&255)):(at(S,r.adler>>>16),at(S,65535&r.adler)),L(r),0<S.wrap&&(S.wrap=-S.wrap),S.pending!==0?f:1)},a.deflateEnd=function(r){var M;return r&&r.state?(M=r.state.status)!==A&&M!==69&&M!==73&&M!==91&&M!==103&&M!==$&&M!==666?ht(r,_):(r.state=null,M===$?ht(r,-3):f):_},a.deflateSetDictionary=function(r,M){var j,S,y,z,q,Y,B,Q,it=M.length;if(!r||!r.state||(z=(j=r.state).wrap)===2||z===1&&j.status!==A||j.lookahead)return _;for(z===1&&(r.adler=u(r.adler,M,it,0)),j.wrap=0,it>=j.w_size&&(z===0&&(lt(j.head),j.strstart=0,j.block_start=0,j.insert=0),Q=new i.Buf8(j.w_size),i.arraySet(Q,M,it-j.w_size,j.w_size,0),M=Q,it=j.w_size),q=r.avail_in,Y=r.next_in,B=r.input,r.avail_in=it,r.next_in=0,r.input=M,kt(j);j.lookahead>=F;){for(S=j.strstart,y=j.lookahead-(F-1);j.ins_h=(j.ins_h<<j.hash_shift^j.window[S+F-1])&j.hash_mask,j.prev[S&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=S,S++,--y;);j.strstart=S,j.lookahead=F-1,kt(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=F-1,j.match_available=0,r.next_in=Y,r.input=B,r.avail_in=q,j.wrap=z,f},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,d,a){d.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,d,a){d.exports=function(n,i){var e,u,x,p,l,w,f,_,c,v,m,k,I,N,E,U,T,W,F,K,st,A,$,o,H;e=n.state,u=n.next_in,o=n.input,x=u+(n.avail_in-5),p=n.next_out,H=n.output,l=p-(i-n.avail_out),w=p+(n.avail_out-257),f=e.dmax,_=e.wsize,c=e.whave,v=e.wnext,m=e.window,k=e.hold,I=e.bits,N=e.lencode,E=e.distcode,U=(1<<e.lenbits)-1,T=(1<<e.distbits)-1;t:do{I<15&&(k+=o[u++]<<I,I+=8,k+=o[u++]<<I,I+=8),W=N[k&U];e:for(;;){if(k>>>=F=W>>>24,I-=F,(F=W>>>16&255)===0)H[p++]=65535&W;else{if(!(16&F)){if((64&F)==0){W=N[(65535&W)+(k&(1<<F)-1)];continue e}if(32&F){e.mode=12;break t}n.msg="invalid literal/length code",e.mode=30;break t}K=65535&W,(F&=15)&&(I<F&&(k+=o[u++]<<I,I+=8),K+=k&(1<<F)-1,k>>>=F,I-=F),I<15&&(k+=o[u++]<<I,I+=8,k+=o[u++]<<I,I+=8),W=E[k&T];r:for(;;){if(k>>>=F=W>>>24,I-=F,!(16&(F=W>>>16&255))){if((64&F)==0){W=E[(65535&W)+(k&(1<<F)-1)];continue r}n.msg="invalid distance code",e.mode=30;break t}if(st=65535&W,I<(F&=15)&&(k+=o[u++]<<I,(I+=8)<F&&(k+=o[u++]<<I,I+=8)),f<(st+=k&(1<<F)-1)){n.msg="invalid distance too far back",e.mode=30;break t}if(k>>>=F,I-=F,(F=p-l)<st){if(c<(F=st-F)&&e.sane){n.msg="invalid distance too far back",e.mode=30;break t}if($=m,(A=0)===v){if(A+=_-F,F<K){for(K-=F;H[p++]=m[A++],--F;);A=p-st,$=H}}else if(v<F){if(A+=_+v-F,(F-=v)<K){for(K-=F;H[p++]=m[A++],--F;);if(A=0,v<K){for(K-=F=v;H[p++]=m[A++],--F;);A=p-st,$=H}}}else if(A+=v-F,F<K){for(K-=F;H[p++]=m[A++],--F;);A=p-st,$=H}for(;2<K;)H[p++]=$[A++],H[p++]=$[A++],H[p++]=$[A++],K-=3;K&&(H[p++]=$[A++],1<K&&(H[p++]=$[A++]))}else{for(A=p-st;H[p++]=H[A++],H[p++]=H[A++],H[p++]=H[A++],2<(K-=3););K&&(H[p++]=H[A++],1<K&&(H[p++]=H[A++]))}break}}break}}while(u<x&&p<w);u-=K=I>>3,k&=(1<<(I-=K<<3))-1,n.next_in=u,n.next_out=p,n.avail_in=u<x?x-u+5:5-(u-x),n.avail_out=p<w?w-p+257:257-(p-w),e.hold=k,e.bits=I}},{}],49:[function(t,d,a){var n=t("../utils/common"),i=t("./adler32"),e=t("./crc32"),u=t("./inffast"),x=t("./inftrees"),p=1,l=2,w=0,f=-2,_=1,c=852,v=592;function m(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(A){var $;return A&&A.state?($=A.state,A.total_in=A.total_out=$.total=0,A.msg="",$.wrap&&(A.adler=1&$.wrap),$.mode=_,$.last=0,$.havedict=0,$.dmax=32768,$.head=null,$.hold=0,$.bits=0,$.lencode=$.lendyn=new n.Buf32(c),$.distcode=$.distdyn=new n.Buf32(v),$.sane=1,$.back=-1,w):f}function N(A){var $;return A&&A.state?(($=A.state).wsize=0,$.whave=0,$.wnext=0,I(A)):f}function E(A,$){var o,H;return A&&A.state?(H=A.state,$<0?(o=0,$=-$):(o=1+($>>4),$<48&&($&=15)),$&&($<8||15<$)?f:(H.window!==null&&H.wbits!==$&&(H.window=null),H.wrap=o,H.wbits=$,N(A))):f}function U(A,$){var o,H;return A?(H=new k,(A.state=H).window=null,(o=E(A,$))!==w&&(A.state=null),o):f}var T,W,F=!0;function K(A){if(F){var $;for(T=new n.Buf32(512),W=new n.Buf32(32),$=0;$<144;)A.lens[$++]=8;for(;$<256;)A.lens[$++]=9;for(;$<280;)A.lens[$++]=7;for(;$<288;)A.lens[$++]=8;for(x(p,A.lens,0,288,T,0,A.work,{bits:9}),$=0;$<32;)A.lens[$++]=5;x(l,A.lens,0,32,W,0,A.work,{bits:5}),F=!1}A.lencode=T,A.lenbits=9,A.distcode=W,A.distbits=5}function st(A,$,o,H){var ct,J=A.state;return J.window===null&&(J.wsize=1<<J.wbits,J.wnext=0,J.whave=0,J.window=new n.Buf8(J.wsize)),H>=J.wsize?(n.arraySet(J.window,$,o-J.wsize,J.wsize,0),J.wnext=0,J.whave=J.wsize):(H<(ct=J.wsize-J.wnext)&&(ct=H),n.arraySet(J.window,$,o-H,ct,J.wnext),(H-=ct)?(n.arraySet(J.window,$,o-H,H,0),J.wnext=H,J.whave=J.wsize):(J.wnext+=ct,J.wnext===J.wsize&&(J.wnext=0),J.whave<J.wsize&&(J.whave+=ct))),0}a.inflateReset=N,a.inflateReset2=E,a.inflateResetKeep=I,a.inflateInit=function(A){return U(A,15)},a.inflateInit2=U,a.inflate=function(A,$){var o,H,ct,J,ht,V,lt,L,P,ft,at,nt,kt,Ct,mt,_t,Et,xt,Ft,Tt,r,M,j,S,y=0,z=new n.Buf8(4),q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return f;(o=A.state).mode===12&&(o.mode=13),ht=A.next_out,ct=A.output,lt=A.avail_out,J=A.next_in,H=A.input,V=A.avail_in,L=o.hold,P=o.bits,ft=V,at=lt,M=w;t:for(;;)switch(o.mode){case _:if(o.wrap===0){o.mode=13;break}for(;P<16;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}if(2&o.wrap&&L===35615){z[o.check=0]=255&L,z[1]=L>>>8&255,o.check=e(o.check,z,2,0),P=L=0,o.mode=2;break}if(o.flags=0,o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&L)<<8)+(L>>8))%31){A.msg="incorrect header check",o.mode=30;break}if((15&L)!=8){A.msg="unknown compression method",o.mode=30;break}if(P-=4,r=8+(15&(L>>>=4)),o.wbits===0)o.wbits=r;else if(r>o.wbits){A.msg="invalid window size",o.mode=30;break}o.dmax=1<<r,A.adler=o.check=1,o.mode=512&L?10:12,P=L=0;break;case 2:for(;P<16;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}if(o.flags=L,(255&o.flags)!=8){A.msg="unknown compression method",o.mode=30;break}if(57344&o.flags){A.msg="unknown header flags set",o.mode=30;break}o.head&&(o.head.text=L>>8&1),512&o.flags&&(z[0]=255&L,z[1]=L>>>8&255,o.check=e(o.check,z,2,0)),P=L=0,o.mode=3;case 3:for(;P<32;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}o.head&&(o.head.time=L),512&o.flags&&(z[0]=255&L,z[1]=L>>>8&255,z[2]=L>>>16&255,z[3]=L>>>24&255,o.check=e(o.check,z,4,0)),P=L=0,o.mode=4;case 4:for(;P<16;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}o.head&&(o.head.xflags=255&L,o.head.os=L>>8),512&o.flags&&(z[0]=255&L,z[1]=L>>>8&255,o.check=e(o.check,z,2,0)),P=L=0,o.mode=5;case 5:if(1024&o.flags){for(;P<16;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}o.length=L,o.head&&(o.head.extra_len=L),512&o.flags&&(z[0]=255&L,z[1]=L>>>8&255,o.check=e(o.check,z,2,0)),P=L=0}else o.head&&(o.head.extra=null);o.mode=6;case 6:if(1024&o.flags&&(V<(nt=o.length)&&(nt=V),nt&&(o.head&&(r=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Array(o.head.extra_len)),n.arraySet(o.head.extra,H,J,nt,r)),512&o.flags&&(o.check=e(o.check,H,nt,J)),V-=nt,J+=nt,o.length-=nt),o.length))break t;o.length=0,o.mode=7;case 7:if(2048&o.flags){if(V===0)break t;for(nt=0;r=H[J+nt++],o.head&&r&&o.length<65536&&(o.head.name+=String.fromCharCode(r)),r&&nt<V;);if(512&o.flags&&(o.check=e(o.check,H,nt,J)),V-=nt,J+=nt,r)break t}else o.head&&(o.head.name=null);o.length=0,o.mode=8;case 8:if(4096&o.flags){if(V===0)break t;for(nt=0;r=H[J+nt++],o.head&&r&&o.length<65536&&(o.head.comment+=String.fromCharCode(r)),r&&nt<V;);if(512&o.flags&&(o.check=e(o.check,H,nt,J)),V-=nt,J+=nt,r)break t}else o.head&&(o.head.comment=null);o.mode=9;case 9:if(512&o.flags){for(;P<16;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}if(L!==(65535&o.check)){A.msg="header crc mismatch",o.mode=30;break}P=L=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),A.adler=o.check=0,o.mode=12;break;case 10:for(;P<32;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}A.adler=o.check=m(L),P=L=0,o.mode=11;case 11:if(o.havedict===0)return A.next_out=ht,A.avail_out=lt,A.next_in=J,A.avail_in=V,o.hold=L,o.bits=P,2;A.adler=o.check=1,o.mode=12;case 12:if($===5||$===6)break t;case 13:if(o.last){L>>>=7&P,P-=7&P,o.mode=27;break}for(;P<3;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}switch(o.last=1&L,P-=1,3&(L>>>=1)){case 0:o.mode=14;break;case 1:if(K(o),o.mode=20,$!==6)break;L>>>=2,P-=2;break t;case 2:o.mode=17;break;case 3:A.msg="invalid block type",o.mode=30}L>>>=2,P-=2;break;case 14:for(L>>>=7&P,P-=7&P;P<32;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}if((65535&L)!=(L>>>16^65535)){A.msg="invalid stored block lengths",o.mode=30;break}if(o.length=65535&L,P=L=0,o.mode=15,$===6)break t;case 15:o.mode=16;case 16:if(nt=o.length){if(V<nt&&(nt=V),lt<nt&&(nt=lt),nt===0)break t;n.arraySet(ct,H,J,nt,ht),V-=nt,J+=nt,lt-=nt,ht+=nt,o.length-=nt;break}o.mode=12;break;case 17:for(;P<14;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}if(o.nlen=257+(31&L),L>>>=5,P-=5,o.ndist=1+(31&L),L>>>=5,P-=5,o.ncode=4+(15&L),L>>>=4,P-=4,286<o.nlen||30<o.ndist){A.msg="too many length or distance symbols",o.mode=30;break}o.have=0,o.mode=18;case 18:for(;o.have<o.ncode;){for(;P<3;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}o.lens[q[o.have++]]=7&L,L>>>=3,P-=3}for(;o.have<19;)o.lens[q[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,j={bits:o.lenbits},M=x(0,o.lens,0,19,o.lencode,0,o.work,j),o.lenbits=j.bits,M){A.msg="invalid code lengths set",o.mode=30;break}o.have=0,o.mode=19;case 19:for(;o.have<o.nlen+o.ndist;){for(;_t=(y=o.lencode[L&(1<<o.lenbits)-1])>>>16&255,Et=65535&y,!((mt=y>>>24)<=P);){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}if(Et<16)L>>>=mt,P-=mt,o.lens[o.have++]=Et;else{if(Et===16){for(S=mt+2;P<S;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}if(L>>>=mt,P-=mt,o.have===0){A.msg="invalid bit length repeat",o.mode=30;break}r=o.lens[o.have-1],nt=3+(3&L),L>>>=2,P-=2}else if(Et===17){for(S=mt+3;P<S;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}P-=mt,r=0,nt=3+(7&(L>>>=mt)),L>>>=3,P-=3}else{for(S=mt+7;P<S;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}P-=mt,r=0,nt=11+(127&(L>>>=mt)),L>>>=7,P-=7}if(o.have+nt>o.nlen+o.ndist){A.msg="invalid bit length repeat",o.mode=30;break}for(;nt--;)o.lens[o.have++]=r}}if(o.mode===30)break;if(o.lens[256]===0){A.msg="invalid code -- missing end-of-block",o.mode=30;break}if(o.lenbits=9,j={bits:o.lenbits},M=x(p,o.lens,0,o.nlen,o.lencode,0,o.work,j),o.lenbits=j.bits,M){A.msg="invalid literal/lengths set",o.mode=30;break}if(o.distbits=6,o.distcode=o.distdyn,j={bits:o.distbits},M=x(l,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,j),o.distbits=j.bits,M){A.msg="invalid distances set",o.mode=30;break}if(o.mode=20,$===6)break t;case 20:o.mode=21;case 21:if(6<=V&&258<=lt){A.next_out=ht,A.avail_out=lt,A.next_in=J,A.avail_in=V,o.hold=L,o.bits=P,u(A,at),ht=A.next_out,ct=A.output,lt=A.avail_out,J=A.next_in,H=A.input,V=A.avail_in,L=o.hold,P=o.bits,o.mode===12&&(o.back=-1);break}for(o.back=0;_t=(y=o.lencode[L&(1<<o.lenbits)-1])>>>16&255,Et=65535&y,!((mt=y>>>24)<=P);){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}if(_t&&(240&_t)==0){for(xt=mt,Ft=_t,Tt=Et;_t=(y=o.lencode[Tt+((L&(1<<xt+Ft)-1)>>xt)])>>>16&255,Et=65535&y,!(xt+(mt=y>>>24)<=P);){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}L>>>=xt,P-=xt,o.back+=xt}if(L>>>=mt,P-=mt,o.back+=mt,o.length=Et,_t===0){o.mode=26;break}if(32&_t){o.back=-1,o.mode=12;break}if(64&_t){A.msg="invalid literal/length code",o.mode=30;break}o.extra=15&_t,o.mode=22;case 22:if(o.extra){for(S=o.extra;P<S;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}o.length+=L&(1<<o.extra)-1,L>>>=o.extra,P-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=23;case 23:for(;_t=(y=o.distcode[L&(1<<o.distbits)-1])>>>16&255,Et=65535&y,!((mt=y>>>24)<=P);){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}if((240&_t)==0){for(xt=mt,Ft=_t,Tt=Et;_t=(y=o.distcode[Tt+((L&(1<<xt+Ft)-1)>>xt)])>>>16&255,Et=65535&y,!(xt+(mt=y>>>24)<=P);){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}L>>>=xt,P-=xt,o.back+=xt}if(L>>>=mt,P-=mt,o.back+=mt,64&_t){A.msg="invalid distance code",o.mode=30;break}o.offset=Et,o.extra=15&_t,o.mode=24;case 24:if(o.extra){for(S=o.extra;P<S;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}o.offset+=L&(1<<o.extra)-1,L>>>=o.extra,P-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){A.msg="invalid distance too far back",o.mode=30;break}o.mode=25;case 25:if(lt===0)break t;if(nt=at-lt,o.offset>nt){if((nt=o.offset-nt)>o.whave&&o.sane){A.msg="invalid distance too far back",o.mode=30;break}kt=nt>o.wnext?(nt-=o.wnext,o.wsize-nt):o.wnext-nt,nt>o.length&&(nt=o.length),Ct=o.window}else Ct=ct,kt=ht-o.offset,nt=o.length;for(lt<nt&&(nt=lt),lt-=nt,o.length-=nt;ct[ht++]=Ct[kt++],--nt;);o.length===0&&(o.mode=21);break;case 26:if(lt===0)break t;ct[ht++]=o.length,lt--,o.mode=21;break;case 27:if(o.wrap){for(;P<32;){if(V===0)break t;V--,L|=H[J++]<<P,P+=8}if(at-=lt,A.total_out+=at,o.total+=at,at&&(A.adler=o.check=o.flags?e(o.check,ct,at,ht-at):i(o.check,ct,at,ht-at)),at=lt,(o.flags?L:m(L))!==o.check){A.msg="incorrect data check",o.mode=30;break}P=L=0}o.mode=28;case 28:if(o.wrap&&o.flags){for(;P<32;){if(V===0)break t;V--,L+=H[J++]<<P,P+=8}if(L!==(4294967295&o.total)){A.msg="incorrect length check",o.mode=30;break}P=L=0}o.mode=29;case 29:M=1;break t;case 30:M=-3;break t;case 31:return-4;case 32:default:return f}return A.next_out=ht,A.avail_out=lt,A.next_in=J,A.avail_in=V,o.hold=L,o.bits=P,(o.wsize||at!==A.avail_out&&o.mode<30&&(o.mode<27||$!==4))&&st(A,A.output,A.next_out,at-A.avail_out)?(o.mode=31,-4):(ft-=A.avail_in,at-=A.avail_out,A.total_in+=ft,A.total_out+=at,o.total+=at,o.wrap&&at&&(A.adler=o.check=o.flags?e(o.check,ct,at,A.next_out-at):i(o.check,ct,at,A.next_out-at)),A.data_type=o.bits+(o.last?64:0)+(o.mode===12?128:0)+(o.mode===20||o.mode===15?256:0),(ft==0&&at===0||$===4)&&M===w&&(M=-5),M)},a.inflateEnd=function(A){if(!A||!A.state)return f;var $=A.state;return $.window&&($.window=null),A.state=null,w},a.inflateGetHeader=function(A,$){var o;return A&&A.state?(2&(o=A.state).wrap)==0?f:((o.head=$).done=!1,w):f},a.inflateSetDictionary=function(A,$){var o,H=$.length;return A&&A.state?(o=A.state).wrap!==0&&o.mode!==11?f:o.mode===11&&i(1,$,H,0)!==o.check?-3:st(A,$,H,H)?(o.mode=31,-4):(o.havedict=1,w):f},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,d,a){var n=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],x=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];d.exports=function(p,l,w,f,_,c,v,m){var k,I,N,E,U,T,W,F,K,st=m.bits,A=0,$=0,o=0,H=0,ct=0,J=0,ht=0,V=0,lt=0,L=0,P=null,ft=0,at=new n.Buf16(16),nt=new n.Buf16(16),kt=null,Ct=0;for(A=0;A<=15;A++)at[A]=0;for($=0;$<f;$++)at[l[w+$]]++;for(ct=st,H=15;1<=H&&at[H]===0;H--);if(H<ct&&(ct=H),H===0)return _[c++]=20971520,_[c++]=20971520,m.bits=1,0;for(o=1;o<H&&at[o]===0;o++);for(ct<o&&(ct=o),A=V=1;A<=15;A++)if(V<<=1,(V-=at[A])<0)return-1;if(0<V&&(p===0||H!==1))return-1;for(nt[1]=0,A=1;A<15;A++)nt[A+1]=nt[A]+at[A];for($=0;$<f;$++)l[w+$]!==0&&(v[nt[l[w+$]]++]=$);if(T=p===0?(P=kt=v,19):p===1?(P=i,ft-=257,kt=e,Ct-=257,256):(P=u,kt=x,-1),A=o,U=c,ht=$=L=0,N=-1,E=(lt=1<<(J=ct))-1,p===1&&852<lt||p===2&&592<lt)return 1;for(;;){for(W=A-ht,K=v[$]<T?(F=0,v[$]):v[$]>T?(F=kt[Ct+v[$]],P[ft+v[$]]):(F=96,0),k=1<<A-ht,o=I=1<<J;_[U+(L>>ht)+(I-=k)]=W<<24|F<<16|K|0,I!==0;);for(k=1<<A-1;L&k;)k>>=1;if(k!==0?(L&=k-1,L+=k):L=0,$++,--at[A]==0){if(A===H)break;A=l[w+v[$]]}if(ct<A&&(L&E)!==N){for(ht===0&&(ht=ct),U+=o,V=1<<(J=A-ht);J+ht<H&&!((V-=at[J+ht])<=0);)J++,V<<=1;if(lt+=1<<J,p===1&&852<lt||p===2&&592<lt)return 1;_[N=L&E]=ct<<24|J<<16|U-c|0}}return L!==0&&(_[U+L]=A-ht<<24|64<<16|0),m.bits=ct,0}},{"../utils/common":41}],51:[function(t,d,a){d.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,d,a){var n=t("../utils/common"),i=0,e=1;function u(y){for(var z=y.length;0<=--z;)y[z]=0}var x=0,p=29,l=256,w=l+1+p,f=30,_=19,c=2*w+1,v=15,m=16,k=7,I=256,N=16,E=17,U=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],st=new Array(2*(w+2));u(st);var A=new Array(2*f);u(A);var $=new Array(512);u($);var o=new Array(256);u(o);var H=new Array(p);u(H);var ct,J,ht,V=new Array(f);function lt(y,z,q,Y,B){this.static_tree=y,this.extra_bits=z,this.extra_base=q,this.elems=Y,this.max_length=B,this.has_stree=y&&y.length}function L(y,z){this.dyn_tree=y,this.max_code=0,this.stat_desc=z}function P(y){return y<256?$[y]:$[256+(y>>>7)]}function ft(y,z){y.pending_buf[y.pending++]=255&z,y.pending_buf[y.pending++]=z>>>8&255}function at(y,z,q){y.bi_valid>m-q?(y.bi_buf|=z<<y.bi_valid&65535,ft(y,y.bi_buf),y.bi_buf=z>>m-y.bi_valid,y.bi_valid+=q-m):(y.bi_buf|=z<<y.bi_valid&65535,y.bi_valid+=q)}function nt(y,z,q){at(y,q[2*z],q[2*z+1])}function kt(y,z){for(var q=0;q|=1&y,y>>>=1,q<<=1,0<--z;);return q>>>1}function Ct(y,z,q){var Y,B,Q=new Array(v+1),it=0;for(Y=1;Y<=v;Y++)Q[Y]=it=it+q[Y-1]<<1;for(B=0;B<=z;B++){var et=y[2*B+1];et!==0&&(y[2*B]=kt(Q[et]++,et))}}function mt(y){var z;for(z=0;z<w;z++)y.dyn_ltree[2*z]=0;for(z=0;z<f;z++)y.dyn_dtree[2*z]=0;for(z=0;z<_;z++)y.bl_tree[2*z]=0;y.dyn_ltree[2*I]=1,y.opt_len=y.static_len=0,y.last_lit=y.matches=0}function _t(y){8<y.bi_valid?ft(y,y.bi_buf):0<y.bi_valid&&(y.pending_buf[y.pending++]=y.bi_buf),y.bi_buf=0,y.bi_valid=0}function Et(y,z,q,Y){var B=2*z,Q=2*q;return y[B]<y[Q]||y[B]===y[Q]&&Y[z]<=Y[q]}function xt(y,z,q){for(var Y=y.heap[q],B=q<<1;B<=y.heap_len&&(B<y.heap_len&&Et(z,y.heap[B+1],y.heap[B],y.depth)&&B++,!Et(z,Y,y.heap[B],y.depth));)y.heap[q]=y.heap[B],q=B,B<<=1;y.heap[q]=Y}function Ft(y,z,q){var Y,B,Q,it,et=0;if(y.last_lit!==0)for(;Y=y.pending_buf[y.d_buf+2*et]<<8|y.pending_buf[y.d_buf+2*et+1],B=y.pending_buf[y.l_buf+et],et++,Y===0?nt(y,B,z):(nt(y,(Q=o[B])+l+1,z),(it=T[Q])!==0&&at(y,B-=H[Q],it),nt(y,Q=P(--Y),q),(it=W[Q])!==0&&at(y,Y-=V[Q],it)),et<y.last_lit;);nt(y,I,z)}function Tt(y,z){var q,Y,B,Q=z.dyn_tree,it=z.stat_desc.static_tree,et=z.stat_desc.has_stree,ut=z.stat_desc.elems,gt=-1;for(y.heap_len=0,y.heap_max=c,q=0;q<ut;q++)Q[2*q]!==0?(y.heap[++y.heap_len]=gt=q,y.depth[q]=0):Q[2*q+1]=0;for(;y.heap_len<2;)Q[2*(B=y.heap[++y.heap_len]=gt<2?++gt:0)]=1,y.depth[B]=0,y.opt_len--,et&&(y.static_len-=it[2*B+1]);for(z.max_code=gt,q=y.heap_len>>1;1<=q;q--)xt(y,Q,q);for(B=ut;q=y.heap[1],y.heap[1]=y.heap[y.heap_len--],xt(y,Q,1),Y=y.heap[1],y.heap[--y.heap_max]=q,y.heap[--y.heap_max]=Y,Q[2*B]=Q[2*q]+Q[2*Y],y.depth[B]=(y.depth[q]>=y.depth[Y]?y.depth[q]:y.depth[Y])+1,Q[2*q+1]=Q[2*Y+1]=B,y.heap[1]=B++,xt(y,Q,1),2<=y.heap_len;);y.heap[--y.heap_max]=y.heap[1],function(pt,Ot){var Zt,Bt,Ht,wt,qt,ie,jt=Ot.dyn_tree,Qt=Ot.max_code,ue=Ot.stat_desc.static_tree,ke=Ot.stat_desc.has_stree,$t=Ot.stat_desc.extra_bits,fe=Ot.stat_desc.extra_base,Kt=Ot.stat_desc.max_length,Vt=0;for(wt=0;wt<=v;wt++)pt.bl_count[wt]=0;for(jt[2*pt.heap[pt.heap_max]+1]=0,Zt=pt.heap_max+1;Zt<c;Zt++)Kt<(wt=jt[2*jt[2*(Bt=pt.heap[Zt])+1]+1]+1)&&(wt=Kt,Vt++),jt[2*Bt+1]=wt,Qt<Bt||(pt.bl_count[wt]++,qt=0,fe<=Bt&&(qt=$t[Bt-fe]),ie=jt[2*Bt],pt.opt_len+=ie*(wt+qt),ke&&(pt.static_len+=ie*(ue[2*Bt+1]+qt)));if(Vt!==0){do{for(wt=Kt-1;pt.bl_count[wt]===0;)wt--;pt.bl_count[wt]--,pt.bl_count[wt+1]+=2,pt.bl_count[Kt]--,Vt-=2}while(0<Vt);for(wt=Kt;wt!==0;wt--)for(Bt=pt.bl_count[wt];Bt!==0;)Qt<(Ht=pt.heap[--Zt])||(jt[2*Ht+1]!==wt&&(pt.opt_len+=(wt-jt[2*Ht+1])*jt[2*Ht],jt[2*Ht+1]=wt),Bt--)}}(y,z),Ct(Q,gt,y.bl_count)}function r(y,z,q){var Y,B,Q=-1,it=z[1],et=0,ut=7,gt=4;for(it===0&&(ut=138,gt=3),z[2*(q+1)+1]=65535,Y=0;Y<=q;Y++)B=it,it=z[2*(Y+1)+1],++et<ut&&B===it||(et<gt?y.bl_tree[2*B]+=et:B!==0?(B!==Q&&y.bl_tree[2*B]++,y.bl_tree[2*N]++):et<=10?y.bl_tree[2*E]++:y.bl_tree[2*U]++,Q=B,gt=(et=0)===it?(ut=138,3):B===it?(ut=6,3):(ut=7,4))}function M(y,z,q){var Y,B,Q=-1,it=z[1],et=0,ut=7,gt=4;for(it===0&&(ut=138,gt=3),Y=0;Y<=q;Y++)if(B=it,it=z[2*(Y+1)+1],!(++et<ut&&B===it)){if(et<gt)for(;nt(y,B,y.bl_tree),--et!=0;);else B!==0?(B!==Q&&(nt(y,B,y.bl_tree),et--),nt(y,N,y.bl_tree),at(y,et-3,2)):et<=10?(nt(y,E,y.bl_tree),at(y,et-3,3)):(nt(y,U,y.bl_tree),at(y,et-11,7));Q=B,gt=(et=0)===it?(ut=138,3):B===it?(ut=6,3):(ut=7,4)}}u(V);var j=!1;function S(y,z,q,Y){at(y,(x<<1)+(Y?1:0),3),function(B,Q,it,et){_t(B),et&&(ft(B,it),ft(B,~it)),n.arraySet(B.pending_buf,B.window,Q,it,B.pending),B.pending+=it}(y,z,q,!0)}a._tr_init=function(y){j||(function(){var z,q,Y,B,Q,it=new Array(v+1);for(B=Y=0;B<p-1;B++)for(H[B]=Y,z=0;z<1<<T[B];z++)o[Y++]=B;for(o[Y-1]=B,B=Q=0;B<16;B++)for(V[B]=Q,z=0;z<1<<W[B];z++)$[Q++]=B;for(Q>>=7;B<f;B++)for(V[B]=Q<<7,z=0;z<1<<W[B]-7;z++)$[256+Q++]=B;for(q=0;q<=v;q++)it[q]=0;for(z=0;z<=143;)st[2*z+1]=8,z++,it[8]++;for(;z<=255;)st[2*z+1]=9,z++,it[9]++;for(;z<=279;)st[2*z+1]=7,z++,it[7]++;for(;z<=287;)st[2*z+1]=8,z++,it[8]++;for(Ct(st,w+1,it),z=0;z<f;z++)A[2*z+1]=5,A[2*z]=kt(z,5);ct=new lt(st,T,l+1,w,v),J=new lt(A,W,0,f,v),ht=new lt(new Array(0),F,0,_,k)}(),j=!0),y.l_desc=new L(y.dyn_ltree,ct),y.d_desc=new L(y.dyn_dtree,J),y.bl_desc=new L(y.bl_tree,ht),y.bi_buf=0,y.bi_valid=0,mt(y)},a._tr_stored_block=S,a._tr_flush_block=function(y,z,q,Y){var B,Q,it=0;0<y.level?(y.strm.data_type===2&&(y.strm.data_type=function(et){var ut,gt=4093624447;for(ut=0;ut<=31;ut++,gt>>>=1)if(1&gt&&et.dyn_ltree[2*ut]!==0)return i;if(et.dyn_ltree[18]!==0||et.dyn_ltree[20]!==0||et.dyn_ltree[26]!==0)return e;for(ut=32;ut<l;ut++)if(et.dyn_ltree[2*ut]!==0)return e;return i}(y)),Tt(y,y.l_desc),Tt(y,y.d_desc),it=function(et){var ut;for(r(et,et.dyn_ltree,et.l_desc.max_code),r(et,et.dyn_dtree,et.d_desc.max_code),Tt(et,et.bl_desc),ut=_-1;3<=ut&&et.bl_tree[2*K[ut]+1]===0;ut--);return et.opt_len+=3*(ut+1)+5+5+4,ut}(y),B=y.opt_len+3+7>>>3,(Q=y.static_len+3+7>>>3)<=B&&(B=Q)):B=Q=q+5,q+4<=B&&z!==-1?S(y,z,q,Y):y.strategy===4||Q===B?(at(y,2+(Y?1:0),3),Ft(y,st,A)):(at(y,4+(Y?1:0),3),function(et,ut,gt,pt){var Ot;for(at(et,ut-257,5),at(et,gt-1,5),at(et,pt-4,4),Ot=0;Ot<pt;Ot++)at(et,et.bl_tree[2*K[Ot]+1],3);M(et,et.dyn_ltree,ut-1),M(et,et.dyn_dtree,gt-1)}(y,y.l_desc.max_code+1,y.d_desc.max_code+1,it+1),Ft(y,y.dyn_ltree,y.dyn_dtree)),mt(y),Y&&_t(y)},a._tr_tally=function(y,z,q){return y.pending_buf[y.d_buf+2*y.last_lit]=z>>>8&255,y.pending_buf[y.d_buf+2*y.last_lit+1]=255&z,y.pending_buf[y.l_buf+y.last_lit]=255&q,y.last_lit++,z===0?y.dyn_ltree[2*q]++:(y.matches++,z--,y.dyn_ltree[2*(o[q]+l+1)]++,y.dyn_dtree[2*P(z)]++),y.last_lit===y.lit_bufsize-1},a._tr_align=function(y){at(y,2,3),nt(y,I,st),function(z){z.bi_valid===16?(ft(z,z.bi_buf),z.bi_buf=0,z.bi_valid=0):8<=z.bi_valid&&(z.pending_buf[z.pending++]=255&z.bi_buf,z.bi_buf>>=8,z.bi_valid-=8)}(y)}},{"../utils/common":41}],53:[function(t,d,a){d.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,d,a){(function(n){(function(i,e){if(!i.setImmediate){var u,x,p,l,w=1,f={},_=!1,c=i.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(i);v=v&&v.setTimeout?v:i,u={}.toString.call(i.process)==="[object process]"?function(N){process.nextTick(function(){k(N)})}:function(){if(i.postMessage&&!i.importScripts){var N=!0,E=i.onmessage;return i.onmessage=function(){N=!1},i.postMessage("","*"),i.onmessage=E,N}}()?(l="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",I,!1):i.attachEvent("onmessage",I),function(N){i.postMessage(l+N,"*")}):i.MessageChannel?((p=new MessageChannel).port1.onmessage=function(N){k(N.data)},function(N){p.port2.postMessage(N)}):c&&"onreadystatechange"in c.createElement("script")?(x=c.documentElement,function(N){var E=c.createElement("script");E.onreadystatechange=function(){k(N),E.onreadystatechange=null,x.removeChild(E),E=null},x.appendChild(E)}):function(N){setTimeout(k,0,N)},v.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var E=new Array(arguments.length-1),U=0;U<E.length;U++)E[U]=arguments[U+1];var T={callback:N,args:E};return f[w]=T,u(w),w++},v.clearImmediate=m}function m(N){delete f[N]}function k(N){if(_)setTimeout(k,0,N);else{var E=f[N];if(E){_=!0;try{(function(U){var T=U.callback,W=U.args;switch(W.length){case 0:T();break;case 1:T(W[0]);break;case 2:T(W[0],W[1]);break;case 3:T(W[0],W[1],W[2]);break;default:T.apply(e,W)}})(E)}finally{m(N),_=!1}}}}function I(N){N.source===i&&typeof N.data=="string"&&N.data.indexOf(l)===0&&k(+N.data.slice(l.length))}})(typeof self=="undefined"?n===void 0?this:n:self)}).call(this,typeof Jt!="undefined"?Jt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})})(vr);var de=vr.exports,gr={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(b,s){(function(t){b.exports=t()})(function(){return function t(d,a,n){function i(x,p){if(!a[x]){if(!d[x]){var l=typeof Gt=="function"&&Gt;if(!p&&l)return l(x,!0);if(e)return e(x,!0);var w=new Error("Cannot find module '"+x+"'");throw w.code="MODULE_NOT_FOUND",w}var f=a[x]={exports:{}};d[x][0].call(f.exports,function(_){var c=d[x][1][_];return i(c||_)},f,f.exports,t,d,a,n)}return a[x].exports}for(var e=typeof Gt=="function"&&Gt,u=0;u<n.length;u++)i(n[u]);return i}({1:[function(t,d,a){(function(n){var i=n.MutationObserver||n.WebKitMutationObserver,e;if(i){var u=0,x=new i(_),p=n.document.createTextNode("");x.observe(p,{characterData:!0}),e=function(){p.data=u=++u%2}}else if(!n.setImmediate&&typeof n.MessageChannel!="undefined"){var l=new n.MessageChannel;l.port1.onmessage=_,e=function(){l.port2.postMessage(0)}}else"document"in n&&"onreadystatechange"in n.document.createElement("script")?e=function(){var v=n.document.createElement("script");v.onreadystatechange=function(){_(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},n.document.documentElement.appendChild(v)}:e=function(){setTimeout(_,0)};var w,f=[];function _(){w=!0;for(var v,m,k=f.length;k;){for(m=f,f=[],v=-1;++v<k;)m[v]();k=f.length}w=!1}d.exports=c;function c(v){f.push(v)===1&&!w&&e()}}).call(this,typeof Jt!="undefined"?Jt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],2:[function(t,d,a){var n=t(1);function i(){}var e={},u=["REJECTED"],x=["FULFILLED"],p=["PENDING"];d.exports=l;function l(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=p,this.queue=[],this.outcome=void 0,E!==i&&c(this,E)}l.prototype.catch=function(E){return this.then(null,E)},l.prototype.then=function(E,U){if(typeof E!="function"&&this.state===x||typeof U!="function"&&this.state===u)return this;var T=new this.constructor(i);if(this.state!==p){var W=this.state===x?E:U;f(T,W,this.outcome)}else this.queue.push(new w(T,E,U));return T};function w(E,U,T){this.promise=E,typeof U=="function"&&(this.onFulfilled=U,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}w.prototype.callFulfilled=function(E){e.resolve(this.promise,E)},w.prototype.otherCallFulfilled=function(E){f(this.promise,this.onFulfilled,E)},w.prototype.callRejected=function(E){e.reject(this.promise,E)},w.prototype.otherCallRejected=function(E){f(this.promise,this.onRejected,E)};function f(E,U,T){n(function(){var W;try{W=U(T)}catch(F){return e.reject(E,F)}W===E?e.reject(E,new TypeError("Cannot resolve promise with itself")):e.resolve(E,W)})}e.resolve=function(E,U){var T=v(_,U);if(T.status==="error")return e.reject(E,T.value);var W=T.value;if(W)c(E,W);else{E.state=x,E.outcome=U;for(var F=-1,K=E.queue.length;++F<K;)E.queue[F].callFulfilled(U)}return E},e.reject=function(E,U){E.state=u,E.outcome=U;for(var T=-1,W=E.queue.length;++T<W;)E.queue[T].callRejected(U);return E};function _(E){var U=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof U=="function")return function(){U.apply(E,arguments)}}function c(E,U){var T=!1;function W(A){T||(T=!0,e.reject(E,A))}function F(A){T||(T=!0,e.resolve(E,A))}function K(){U(F,W)}var st=v(K);st.status==="error"&&W(st.value)}function v(E,U){var T={};try{T.value=E(U),T.status="success"}catch(W){T.status="error",T.value=W}return T}l.resolve=m;function m(E){return E instanceof this?E:e.resolve(new this(i),E)}l.reject=k;function k(E){var U=new this(i);return e.reject(U,E)}l.all=I;function I(E){var U=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=E.length,W=!1;if(!T)return this.resolve([]);for(var F=new Array(T),K=0,st=-1,A=new this(i);++st<T;)$(E[st],st);return A;function $(o,H){U.resolve(o).then(ct,function(J){W||(W=!0,e.reject(A,J))});function ct(J){F[H]=J,++K===T&&!W&&(W=!0,e.resolve(A,F))}}}l.race=N;function N(E){var U=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=E.length,W=!1;if(!T)return this.resolve([]);for(var F=-1,K=new this(i);++F<T;)st(E[F]);return K;function st(A){U.resolve(A).then(function($){W||(W=!0,e.resolve(K,$))},function($){W||(W=!0,e.reject(K,$))})}}},{1:1}],3:[function(t,d,a){(function(n){typeof n.Promise!="function"&&(n.Promise=t(2))}).call(this,typeof Jt!="undefined"?Jt:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{2:2}],4:[function(t,d,a){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h};function i(h,C){if(!(h instanceof C))throw new TypeError("Cannot call a class as a function")}function e(){try{if(typeof indexedDB!="undefined")return indexedDB;if(typeof webkitIndexedDB!="undefined")return webkitIndexedDB;if(typeof mozIndexedDB!="undefined")return mozIndexedDB;if(typeof OIndexedDB!="undefined")return OIndexedDB;if(typeof msIndexedDB!="undefined")return msIndexedDB}catch{return}}var u=e();function x(){try{if(!u||!u.open)return!1;var h=typeof openDatabase!="undefined"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),C=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!h||C)&&typeof indexedDB!="undefined"&&typeof IDBKeyRange!="undefined"}catch{return!1}}function p(h,C){h=h||[],C=C||{};try{return new Blob(h,C)}catch(R){if(R.name!=="TypeError")throw R;for(var g=typeof BlobBuilder!="undefined"?BlobBuilder:typeof MSBlobBuilder!="undefined"?MSBlobBuilder:typeof MozBlobBuilder!="undefined"?MozBlobBuilder:WebKitBlobBuilder,O=new g,D=0;D<h.length;D+=1)O.append(h[D]);return O.getBlob(C.type)}}typeof Promise=="undefined"&&t(3);var l=Promise;function w(h,C){C&&h.then(function(g){C(null,g)},function(g){C(g)})}function f(h,C,g){typeof C=="function"&&h.then(C),typeof g=="function"&&h.catch(g)}function _(h){return typeof h!="string"&&(console.warn(h+" used as a key, but it is not a string."),h=String(h)),h}function c(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var v="local-forage-detect-blob-support",m=void 0,k={},I=Object.prototype.toString,N="readonly",E="readwrite";function U(h){for(var C=h.length,g=new ArrayBuffer(C),O=new Uint8Array(g),D=0;D<C;D++)O[D]=h.charCodeAt(D);return g}function T(h){return new l(function(C){var g=h.transaction(v,E),O=p([""]);g.objectStore(v).put(O,"key"),g.onabort=function(D){D.preventDefault(),D.stopPropagation(),C(!1)},g.oncomplete=function(){var D=navigator.userAgent.match(/Chrome\/(\d+)/),R=navigator.userAgent.match(/Edge\//);C(R||!D||parseInt(D[1],10)>=43)}}).catch(function(){return!1})}function W(h){return typeof m=="boolean"?l.resolve(m):T(h).then(function(C){return m=C,m})}function F(h){var C=k[h.name],g={};g.promise=new l(function(O,D){g.resolve=O,g.reject=D}),C.deferredOperations.push(g),C.dbReady?C.dbReady=C.dbReady.then(function(){return g.promise}):C.dbReady=g.promise}function K(h){var C=k[h.name],g=C.deferredOperations.pop();if(g)return g.resolve(),g.promise}function st(h,C){var g=k[h.name],O=g.deferredOperations.pop();if(O)return O.reject(C),O.promise}function A(h,C){return new l(function(g,O){if(k[h.name]=k[h.name]||P(),h.db)if(C)F(h),h.db.close();else return g(h.db);var D=[h.name];C&&D.push(h.version);var R=u.open.apply(u,D);C&&(R.onupgradeneeded=function(Z){var G=R.result;try{G.createObjectStore(h.storeName),Z.oldVersion<=1&&G.createObjectStore(v)}catch(X){if(X.name==="ConstraintError")console.warn('The database "'+h.name+'" has been upgraded from version '+Z.oldVersion+" to version "+Z.newVersion+', but the storage "'+h.storeName+'" already exists.');else throw X}}),R.onerror=function(Z){Z.preventDefault(),O(R.error)},R.onsuccess=function(){var Z=R.result;Z.onversionchange=function(G){G.target.close()},g(Z),K(h)}})}function $(h){return A(h,!1)}function o(h){return A(h,!0)}function H(h,C){if(!h.db)return!0;var g=!h.db.objectStoreNames.contains(h.storeName),O=h.version<h.db.version,D=h.version>h.db.version;if(O&&(h.version!==C&&console.warn('The database "'+h.name+`" can't be downgraded from version `+h.db.version+" to version "+h.version+"."),h.version=h.db.version),D||g){if(g){var R=h.db.version+1;R>h.version&&(h.version=R)}return!0}return!1}function ct(h){return new l(function(C,g){var O=new FileReader;O.onerror=g,O.onloadend=function(D){var R=btoa(D.target.result||"");C({__local_forage_encoded_blob:!0,data:R,type:h.type})},O.readAsBinaryString(h)})}function J(h){var C=U(atob(h.data));return p([C],{type:h.type})}function ht(h){return h&&h.__local_forage_encoded_blob}function V(h){var C=this,g=C._initReady().then(function(){var O=k[C._dbInfo.name];if(O&&O.dbReady)return O.dbReady});return f(g,h,h),g}function lt(h){F(h);for(var C=k[h.name],g=C.forages,O=0;O<g.length;O++){var D=g[O];D._dbInfo.db&&(D._dbInfo.db.close(),D._dbInfo.db=null)}return h.db=null,$(h).then(function(R){return h.db=R,H(h)?o(h):R}).then(function(R){h.db=C.db=R;for(var Z=0;Z<g.length;Z++)g[Z]._dbInfo.db=R}).catch(function(R){throw st(h,R),R})}function L(h,C,g,O){O===void 0&&(O=1);try{var D=h.db.transaction(h.storeName,C);g(null,D)}catch(R){if(O>0&&(!h.db||R.name==="InvalidStateError"||R.name==="NotFoundError"))return l.resolve().then(function(){if(!h.db||R.name==="NotFoundError"&&!h.db.objectStoreNames.contains(h.storeName)&&h.version<=h.db.version)return h.db&&(h.version=h.db.version+1),o(h)}).then(function(){return lt(h).then(function(){L(h,C,g,O-1)})}).catch(g);g(R)}}function P(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ft(h){var C=this,g={db:null};if(h)for(var O in h)g[O]=h[O];var D=k[g.name];D||(D=P(),k[g.name]=D),D.forages.push(C),C._initReady||(C._initReady=C.ready,C.ready=V);var R=[];function Z(){return l.resolve()}for(var G=0;G<D.forages.length;G++){var X=D.forages[G];X!==C&&R.push(X._initReady().catch(Z))}var tt=D.forages.slice(0);return l.all(R).then(function(){return g.db=D.db,$(g)}).then(function(rt){return g.db=rt,H(g,C._defaultConfig.version)?o(g):rt}).then(function(rt){g.db=D.db=rt,C._dbInfo=g;for(var ot=0;ot<tt.length;ot++){var dt=tt[ot];dt!==C&&(dt._dbInfo.db=g.db,dt._dbInfo.version=g.version)}})}function at(h,C){var g=this;h=_(h);var O=new l(function(D,R){g.ready().then(function(){L(g._dbInfo,N,function(Z,G){if(Z)return R(Z);try{var X=G.objectStore(g._dbInfo.storeName),tt=X.get(h);tt.onsuccess=function(){var rt=tt.result;rt===void 0&&(rt=null),ht(rt)&&(rt=J(rt)),D(rt)},tt.onerror=function(){R(tt.error)}}catch(rt){R(rt)}})}).catch(R)});return w(O,C),O}function nt(h,C){var g=this,O=new l(function(D,R){g.ready().then(function(){L(g._dbInfo,N,function(Z,G){if(Z)return R(Z);try{var X=G.objectStore(g._dbInfo.storeName),tt=X.openCursor(),rt=1;tt.onsuccess=function(){var ot=tt.result;if(ot){var dt=ot.value;ht(dt)&&(dt=J(dt));var vt=h(dt,ot.key,rt++);vt!==void 0?D(vt):ot.continue()}else D()},tt.onerror=function(){R(tt.error)}}catch(ot){R(ot)}})}).catch(R)});return w(O,C),O}function kt(h,C,g){var O=this;h=_(h);var D=new l(function(R,Z){var G;O.ready().then(function(){return G=O._dbInfo,I.call(C)==="[object Blob]"?W(G.db).then(function(X){return X?C:ct(C)}):C}).then(function(X){L(O._dbInfo,E,function(tt,rt){if(tt)return Z(tt);try{var ot=rt.objectStore(O._dbInfo.storeName);X===null&&(X=void 0);var dt=ot.put(X,h);rt.oncomplete=function(){X===void 0&&(X=null),R(X)},rt.onabort=rt.onerror=function(){var vt=dt.error?dt.error:dt.transaction.error;Z(vt)}}catch(vt){Z(vt)}})}).catch(Z)});return w(D,g),D}function Ct(h,C){var g=this;h=_(h);var O=new l(function(D,R){g.ready().then(function(){L(g._dbInfo,E,function(Z,G){if(Z)return R(Z);try{var X=G.objectStore(g._dbInfo.storeName),tt=X.delete(h);G.oncomplete=function(){D()},G.onerror=function(){R(tt.error)},G.onabort=function(){var rt=tt.error?tt.error:tt.transaction.error;R(rt)}}catch(rt){R(rt)}})}).catch(R)});return w(O,C),O}function mt(h){var C=this,g=new l(function(O,D){C.ready().then(function(){L(C._dbInfo,E,function(R,Z){if(R)return D(R);try{var G=Z.objectStore(C._dbInfo.storeName),X=G.clear();Z.oncomplete=function(){O()},Z.onabort=Z.onerror=function(){var tt=X.error?X.error:X.transaction.error;D(tt)}}catch(tt){D(tt)}})}).catch(D)});return w(g,h),g}function _t(h){var C=this,g=new l(function(O,D){C.ready().then(function(){L(C._dbInfo,N,function(R,Z){if(R)return D(R);try{var G=Z.objectStore(C._dbInfo.storeName),X=G.count();X.onsuccess=function(){O(X.result)},X.onerror=function(){D(X.error)}}catch(tt){D(tt)}})}).catch(D)});return w(g,h),g}function Et(h,C){var g=this,O=new l(function(D,R){if(h<0){D(null);return}g.ready().then(function(){L(g._dbInfo,N,function(Z,G){if(Z)return R(Z);try{var X=G.objectStore(g._dbInfo.storeName),tt=!1,rt=X.openKeyCursor();rt.onsuccess=function(){var ot=rt.result;if(!ot){D(null);return}h===0||tt?D(ot.key):(tt=!0,ot.advance(h))},rt.onerror=function(){R(rt.error)}}catch(ot){R(ot)}})}).catch(R)});return w(O,C),O}function xt(h){var C=this,g=new l(function(O,D){C.ready().then(function(){L(C._dbInfo,N,function(R,Z){if(R)return D(R);try{var G=Z.objectStore(C._dbInfo.storeName),X=G.openKeyCursor(),tt=[];X.onsuccess=function(){var rt=X.result;if(!rt){O(tt);return}tt.push(rt.key),rt.continue()},X.onerror=function(){D(X.error)}}catch(rt){D(rt)}})}).catch(D)});return w(g,h),g}function Ft(h,C){C=c.apply(this,arguments);var g=this.config();h=typeof h!="function"&&h||{},h.name||(h.name=h.name||g.name,h.storeName=h.storeName||g.storeName);var O=this,D;if(!h.name)D=l.reject("Invalid arguments");else{var R=h.name===g.name&&O._dbInfo.db,Z=R?l.resolve(O._dbInfo.db):$(h).then(function(G){var X=k[h.name],tt=X.forages;X.db=G;for(var rt=0;rt<tt.length;rt++)tt[rt]._dbInfo.db=G;return G});h.storeName?D=Z.then(function(G){if(!!G.objectStoreNames.contains(h.storeName)){var X=G.version+1;F(h);var tt=k[h.name],rt=tt.forages;G.close();for(var ot=0;ot<rt.length;ot++){var dt=rt[ot];dt._dbInfo.db=null,dt._dbInfo.version=X}var vt=new l(function(yt,At){var St=u.open(h.name,X);St.onerror=function(Ut){var se=St.result;se.close(),At(Ut)},St.onupgradeneeded=function(){var Ut=St.result;Ut.deleteObjectStore(h.storeName)},St.onsuccess=function(){var Ut=St.result;Ut.close(),yt(Ut)}});return vt.then(function(yt){tt.db=yt;for(var At=0;At<rt.length;At++){var St=rt[At];St._dbInfo.db=yt,K(St._dbInfo)}}).catch(function(yt){throw(st(h,yt)||l.resolve()).catch(function(){}),yt})}}):D=Z.then(function(G){F(h);var X=k[h.name],tt=X.forages;G.close();for(var rt=0;rt<tt.length;rt++){var ot=tt[rt];ot._dbInfo.db=null}var dt=new l(function(vt,yt){var At=u.deleteDatabase(h.name);At.onerror=function(){var St=At.result;St&&St.close(),yt(At.error)},At.onblocked=function(){console.warn('dropInstance blocked for database "'+h.name+'" until all open connections are closed')},At.onsuccess=function(){var St=At.result;St&&St.close(),vt(St)}});return dt.then(function(vt){X.db=vt;for(var yt=0;yt<tt.length;yt++){var At=tt[yt];K(At._dbInfo)}}).catch(function(vt){throw(st(h,vt)||l.resolve()).catch(function(){}),vt})})}return w(D,C),D}var Tt={_driver:"asyncStorage",_initStorage:ft,_support:x(),iterate:nt,getItem:at,setItem:kt,removeItem:Ct,clear:mt,length:_t,key:Et,keys:xt,dropInstance:Ft};function r(){return typeof openDatabase=="function"}var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j="~~local_forage_type~",S=/^~~local_forage_type~([^~]+)~/,y="__lfsc__:",z=y.length,q="arbf",Y="blob",B="si08",Q="ui08",it="uic8",et="si16",ut="si32",gt="ur16",pt="ui32",Ot="fl32",Zt="fl64",Bt=z+q.length,Ht=Object.prototype.toString;function wt(h){var C=h.length*.75,g=h.length,O,D=0,R,Z,G,X;h[h.length-1]==="="&&(C--,h[h.length-2]==="="&&C--);var tt=new ArrayBuffer(C),rt=new Uint8Array(tt);for(O=0;O<g;O+=4)R=M.indexOf(h[O]),Z=M.indexOf(h[O+1]),G=M.indexOf(h[O+2]),X=M.indexOf(h[O+3]),rt[D++]=R<<2|Z>>4,rt[D++]=(Z&15)<<4|G>>2,rt[D++]=(G&3)<<6|X&63;return tt}function qt(h){var C=new Uint8Array(h),g="",O;for(O=0;O<C.length;O+=3)g+=M[C[O]>>2],g+=M[(C[O]&3)<<4|C[O+1]>>4],g+=M[(C[O+1]&15)<<2|C[O+2]>>6],g+=M[C[O+2]&63];return C.length%3===2?g=g.substring(0,g.length-1)+"=":C.length%3===1&&(g=g.substring(0,g.length-2)+"=="),g}function ie(h,C){var g="";if(h&&(g=Ht.call(h)),h&&(g==="[object ArrayBuffer]"||h.buffer&&Ht.call(h.buffer)==="[object ArrayBuffer]")){var O,D=y;h instanceof ArrayBuffer?(O=h,D+=q):(O=h.buffer,g==="[object Int8Array]"?D+=B:g==="[object Uint8Array]"?D+=Q:g==="[object Uint8ClampedArray]"?D+=it:g==="[object Int16Array]"?D+=et:g==="[object Uint16Array]"?D+=gt:g==="[object Int32Array]"?D+=ut:g==="[object Uint32Array]"?D+=pt:g==="[object Float32Array]"?D+=Ot:g==="[object Float64Array]"?D+=Zt:C(new Error("Failed to get type for BinaryArray"))),C(D+qt(O))}else if(g==="[object Blob]"){var R=new FileReader;R.onload=function(){var Z=j+h.type+"~"+qt(this.result);C(y+Y+Z)},R.readAsArrayBuffer(h)}else try{C(JSON.stringify(h))}catch(Z){console.error("Couldn't convert value into a JSON string: ",h),C(null,Z)}}function jt(h){if(h.substring(0,z)!==y)return JSON.parse(h);var C=h.substring(Bt),g=h.substring(z,Bt),O;if(g===Y&&S.test(C)){var D=C.match(S);O=D[1],C=C.substring(D[0].length)}var R=wt(C);switch(g){case q:return R;case Y:return p([R],{type:O});case B:return new Int8Array(R);case Q:return new Uint8Array(R);case it:return new Uint8ClampedArray(R);case et:return new Int16Array(R);case gt:return new Uint16Array(R);case ut:return new Int32Array(R);case pt:return new Uint32Array(R);case Ot:return new Float32Array(R);case Zt:return new Float64Array(R);default:throw new Error("Unkown type: "+g)}}var Qt={serialize:ie,deserialize:jt,stringToBuffer:wt,bufferToString:qt};function ue(h,C,g,O){h.executeSql("CREATE TABLE IF NOT EXISTS "+C.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],g,O)}function ke(h){var C=this,g={db:null};if(h)for(var O in h)g[O]=typeof h[O]!="string"?h[O].toString():h[O];var D=new l(function(R,Z){try{g.db=openDatabase(g.name,String(g.version),g.description,g.size)}catch(G){return Z(G)}g.db.transaction(function(G){ue(G,g,function(){C._dbInfo=g,R()},function(X,tt){Z(tt)})},Z)});return g.serializer=Qt,D}function $t(h,C,g,O,D,R){h.executeSql(g,O,D,function(Z,G){G.code===G.SYNTAX_ERR?Z.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[C.storeName],function(X,tt){tt.rows.length?R(X,G):ue(X,C,function(){X.executeSql(g,O,D,R)},R)},R):R(Z,G)},R)}function fe(h,C){var g=this;h=_(h);var O=new l(function(D,R){g.ready().then(function(){var Z=g._dbInfo;Z.db.transaction(function(G){$t(G,Z,"SELECT * FROM "+Z.storeName+" WHERE key = ? LIMIT 1",[h],function(X,tt){var rt=tt.rows.length?tt.rows.item(0).value:null;rt&&(rt=Z.serializer.deserialize(rt)),D(rt)},function(X,tt){R(tt)})})}).catch(R)});return w(O,C),O}function Kt(h,C){var g=this,O=new l(function(D,R){g.ready().then(function(){var Z=g._dbInfo;Z.db.transaction(function(G){$t(G,Z,"SELECT * FROM "+Z.storeName,[],function(X,tt){for(var rt=tt.rows,ot=rt.length,dt=0;dt<ot;dt++){var vt=rt.item(dt),yt=vt.value;if(yt&&(yt=Z.serializer.deserialize(yt)),yt=h(yt,vt.key,dt+1),yt!==void 0){D(yt);return}}D()},function(X,tt){R(tt)})})}).catch(R)});return w(O,C),O}function Vt(h,C,g,O){var D=this;h=_(h);var R=new l(function(Z,G){D.ready().then(function(){C===void 0&&(C=null);var X=C,tt=D._dbInfo;tt.serializer.serialize(C,function(rt,ot){ot?G(ot):tt.db.transaction(function(dt){$t(dt,tt,"INSERT OR REPLACE INTO "+tt.storeName+" (key, value) VALUES (?, ?)",[h,rt],function(){Z(X)},function(vt,yt){G(yt)})},function(dt){if(dt.code===dt.QUOTA_ERR){if(O>0){Z(Vt.apply(D,[h,X,g,O-1]));return}G(dt)}})})}).catch(G)});return w(R,g),R}function yr(h,C,g){return Vt.apply(this,[h,C,g,1])}function br(h,C){var g=this;h=_(h);var O=new l(function(D,R){g.ready().then(function(){var Z=g._dbInfo;Z.db.transaction(function(G){$t(G,Z,"DELETE FROM "+Z.storeName+" WHERE key = ?",[h],function(){D()},function(X,tt){R(tt)})})}).catch(R)});return w(O,C),O}function wr(h){var C=this,g=new l(function(O,D){C.ready().then(function(){var R=C._dbInfo;R.db.transaction(function(Z){$t(Z,R,"DELETE FROM "+R.storeName,[],function(){O()},function(G,X){D(X)})})}).catch(D)});return w(g,h),g}function kr(h){var C=this,g=new l(function(O,D){C.ready().then(function(){var R=C._dbInfo;R.db.transaction(function(Z){$t(Z,R,"SELECT COUNT(key) as c FROM "+R.storeName,[],function(G,X){var tt=X.rows.item(0).c;O(tt)},function(G,X){D(X)})})}).catch(D)});return w(g,h),g}function xr(h,C){var g=this,O=new l(function(D,R){g.ready().then(function(){var Z=g._dbInfo;Z.db.transaction(function(G){$t(G,Z,"SELECT key FROM "+Z.storeName+" WHERE id = ? LIMIT 1",[h+1],function(X,tt){var rt=tt.rows.length?tt.rows.item(0).key:null;D(rt)},function(X,tt){R(tt)})})}).catch(R)});return w(O,C),O}function Sr(h){var C=this,g=new l(function(O,D){C.ready().then(function(){var R=C._dbInfo;R.db.transaction(function(Z){$t(Z,R,"SELECT key FROM "+R.storeName,[],function(G,X){for(var tt=[],rt=0;rt<X.rows.length;rt++)tt.push(X.rows.item(rt).key);O(tt)},function(G,X){D(X)})})}).catch(D)});return w(g,h),g}function Er(h){return new l(function(C,g){h.transaction(function(O){O.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(D,R){for(var Z=[],G=0;G<R.rows.length;G++)Z.push(R.rows.item(G).name);C({db:h,storeNames:Z})},function(D,R){g(R)})},function(O){g(O)})})}function Ar(h,C){C=c.apply(this,arguments);var g=this.config();h=typeof h!="function"&&h||{},h.name||(h.name=h.name||g.name,h.storeName=h.storeName||g.storeName);var O=this,D;return h.name?D=new l(function(R){var Z;h.name===g.name?Z=O._dbInfo.db:Z=openDatabase(h.name,"","",0),h.storeName?R({db:Z,storeNames:[h.storeName]}):R(Er(Z))}).then(function(R){return new l(function(Z,G){R.db.transaction(function(X){function tt(vt){return new l(function(yt,At){X.executeSql("DROP TABLE IF EXISTS "+vt,[],function(){yt()},function(St,Ut){At(Ut)})})}for(var rt=[],ot=0,dt=R.storeNames.length;ot<dt;ot++)rt.push(tt(R.storeNames[ot]));l.all(rt).then(function(){Z()}).catch(function(vt){G(vt)})},function(X){G(X)})})}):D=l.reject("Invalid arguments"),w(D,C),D}var Cr={_driver:"webSQLStorage",_initStorage:ke,_support:r(),iterate:Kt,getItem:fe,setItem:yr,removeItem:br,clear:wr,length:kr,key:xr,keys:Sr,dropInstance:Ar};function Ir(){try{return typeof localStorage!="undefined"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function je(h,C){var g=h.name+"/";return h.storeName!==C.storeName&&(g+=h.storeName+"/"),g}function Rr(){var h="_localforage_support_test";try{return localStorage.setItem(h,!0),localStorage.removeItem(h),!1}catch{return!0}}function Or(){return!Rr()||localStorage.length>0}function zr(h){var C=this,g={};if(h)for(var O in h)g[O]=h[O];return g.keyPrefix=je(h,C._defaultConfig),Or()?(C._dbInfo=g,g.serializer=Qt,l.resolve()):l.reject()}function Dr(h){var C=this,g=C.ready().then(function(){for(var O=C._dbInfo.keyPrefix,D=localStorage.length-1;D>=0;D--){var R=localStorage.key(D);R.indexOf(O)===0&&localStorage.removeItem(R)}});return w(g,h),g}function Nr(h,C){var g=this;h=_(h);var O=g.ready().then(function(){var D=g._dbInfo,R=localStorage.getItem(D.keyPrefix+h);return R&&(R=D.serializer.deserialize(R)),R});return w(O,C),O}function Tr(h,C){var g=this,O=g.ready().then(function(){for(var D=g._dbInfo,R=D.keyPrefix,Z=R.length,G=localStorage.length,X=1,tt=0;tt<G;tt++){var rt=localStorage.key(tt);if(rt.indexOf(R)===0){var ot=localStorage.getItem(rt);if(ot&&(ot=D.serializer.deserialize(ot)),ot=h(ot,rt.substring(Z),X++),ot!==void 0)return ot}}});return w(O,C),O}function Br(h,C){var g=this,O=g.ready().then(function(){var D=g._dbInfo,R;try{R=localStorage.key(h)}catch{R=null}return R&&(R=R.substring(D.keyPrefix.length)),R});return w(O,C),O}function Pr(h){var C=this,g=C.ready().then(function(){for(var O=C._dbInfo,D=localStorage.length,R=[],Z=0;Z<D;Z++){var G=localStorage.key(Z);G.indexOf(O.keyPrefix)===0&&R.push(G.substring(O.keyPrefix.length))}return R});return w(g,h),g}function Lr(h){var C=this,g=C.keys().then(function(O){return O.length});return w(g,h),g}function Fr(h,C){var g=this;h=_(h);var O=g.ready().then(function(){var D=g._dbInfo;localStorage.removeItem(D.keyPrefix+h)});return w(O,C),O}function Ur(h,C,g){var O=this;h=_(h);var D=O.ready().then(function(){C===void 0&&(C=null);var R=C;return new l(function(Z,G){var X=O._dbInfo;X.serializer.serialize(C,function(tt,rt){if(rt)G(rt);else try{localStorage.setItem(X.keyPrefix+h,tt),Z(R)}catch(ot){(ot.name==="QuotaExceededError"||ot.name==="NS_ERROR_DOM_QUOTA_REACHED")&&G(ot),G(ot)}})})});return w(D,g),D}function jr(h,C){if(C=c.apply(this,arguments),h=typeof h!="function"&&h||{},!h.name){var g=this.config();h.name=h.name||g.name,h.storeName=h.storeName||g.storeName}var O=this,D;return h.name?D=new l(function(R){h.storeName?R(je(h,O._defaultConfig)):R(h.name+"/")}).then(function(R){for(var Z=localStorage.length-1;Z>=0;Z--){var G=localStorage.key(Z);G.indexOf(R)===0&&localStorage.removeItem(G)}}):D=l.reject("Invalid arguments"),w(D,C),D}var $r={_driver:"localStorageWrapper",_initStorage:zr,_support:Ir(),iterate:Tr,getItem:Nr,setItem:Ur,removeItem:Fr,clear:Dr,length:Lr,key:Br,keys:Pr,dropInstance:jr},Mr=function(C,g){return C===g||typeof C=="number"&&typeof g=="number"&&isNaN(C)&&isNaN(g)},Wr=function(C,g){for(var O=C.length,D=0;D<O;){if(Mr(C[D],g))return!0;D++}return!1},$e=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"},ae={},Me={},te={INDEXEDDB:Tt,WEBSQL:Cr,LOCALSTORAGE:$r},Zr=[te.INDEXEDDB._driver,te.WEBSQL._driver,te.LOCALSTORAGE._driver],le=["dropInstance"],xe=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(le),Hr={description:"",driver:Zr.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function qr(h,C){h[C]=function(){var g=arguments;return h.ready().then(function(){return h[C].apply(h,g)})}}function Se(){for(var h=1;h<arguments.length;h++){var C=arguments[h];if(C)for(var g in C)C.hasOwnProperty(g)&&($e(C[g])?arguments[0][g]=C[g].slice():arguments[0][g]=C[g])}return arguments[0]}var Yr=function(){function h(C){i(this,h);for(var g in te)if(te.hasOwnProperty(g)){var O=te[g],D=O._driver;this[g]=D,ae[D]||this.defineDriver(O)}this._defaultConfig=Se({},Hr),this._config=Se({},this._defaultConfig,C),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return h.prototype.config=function(g){if((typeof g=="undefined"?"undefined":n(g))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var O in g){if(O==="storeName"&&(g[O]=g[O].replace(/\W/g,"_")),O==="version"&&typeof g[O]!="number")return new Error("Database version must be a number.");this._config[O]=g[O]}return"driver"in g&&g.driver?this.setDriver(this._config.driver):!0}else return typeof g=="string"?this._config[g]:this._config},h.prototype.defineDriver=function(g,O,D){var R=new l(function(Z,G){try{var X=g._driver,tt=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!g._driver){G(tt);return}for(var rt=xe.concat("_initStorage"),ot=0,dt=rt.length;ot<dt;ot++){var vt=rt[ot],yt=!Wr(le,vt);if((yt||g[vt])&&typeof g[vt]!="function"){G(tt);return}}var At=function(){for(var se=function(Kr){return function(){var Vr=new Error("Method "+Kr+" is not implemented by the current driver"),We=l.reject(Vr);return w(We,arguments[arguments.length-1]),We}},Ee=0,Gr=le.length;Ee<Gr;Ee++){var Ae=le[Ee];g[Ae]||(g[Ae]=se(Ae))}};At();var St=function(se){ae[X]&&console.info("Redefining LocalForage driver: "+X),ae[X]=g,Me[X]=se,Z()};"_support"in g?g._support&&typeof g._support=="function"?g._support().then(St,G):St(!!g._support):St(!0)}catch(Ut){G(Ut)}});return f(R,O,D),R},h.prototype.driver=function(){return this._driver||null},h.prototype.getDriver=function(g,O,D){var R=ae[g]?l.resolve(ae[g]):l.reject(new Error("Driver not found."));return f(R,O,D),R},h.prototype.getSerializer=function(g){var O=l.resolve(Qt);return f(O,g),O},h.prototype.ready=function(g){var O=this,D=O._driverSet.then(function(){return O._ready===null&&(O._ready=O._initDriver()),O._ready});return f(D,g,g),D},h.prototype.setDriver=function(g,O,D){var R=this;$e(g)||(g=[g]);var Z=this._getSupportedDrivers(g);function G(){R._config.driver=R.driver()}function X(ot){return R._extend(ot),G(),R._ready=R._initStorage(R._config),R._ready}function tt(ot){return function(){var dt=0;function vt(){for(;dt<ot.length;){var yt=ot[dt];return dt++,R._dbInfo=null,R._ready=null,R.getDriver(yt).then(X).catch(vt)}G();var At=new Error("No available storage method found.");return R._driverSet=l.reject(At),R._driverSet}return vt()}}var rt=this._driverSet!==null?this._driverSet.catch(function(){return l.resolve()}):l.resolve();return this._driverSet=rt.then(function(){var ot=Z[0];return R._dbInfo=null,R._ready=null,R.getDriver(ot).then(function(dt){R._driver=dt._driver,G(),R._wrapLibraryMethodsWithReady(),R._initDriver=tt(Z)})}).catch(function(){G();var ot=new Error("No available storage method found.");return R._driverSet=l.reject(ot),R._driverSet}),f(this._driverSet,O,D),this._driverSet},h.prototype.supports=function(g){return!!Me[g]},h.prototype._extend=function(g){Se(this,g)},h.prototype._getSupportedDrivers=function(g){for(var O=[],D=0,R=g.length;D<R;D++){var Z=g[D];this.supports(Z)&&O.push(Z)}return O},h.prototype._wrapLibraryMethodsWithReady=function(){for(var g=0,O=xe.length;g<O;g++)qr(this,xe[g])},h.prototype.createInstance=function(g){return new h(g)},h}(),Jr=new Yr;d.exports=Jr},{3:3}]},{},[4])(4)})})(gr);var Ue=gr.exports;class tr{constructor(){Nt(this,"file","")}write(s){this.file+=s}}function Mt(b,s,t,d){s[b]&&d.write(t)}class pe{constructor(){Nt(this,"tmp");Nt(this,"docLinks");this.tmp=Ue.createInstance({name:"file_cache"}),this.docLinks=new Map}stringMul(s,t){let d=s;for(let a=0;a<t-1;a++)d+=s;return d}convertele(s,t){var d,a,n;if(s.type=="textRun"){let i=s.textRun;if(i.style){let e=i.style;if(Mt("link",e,"[",t),Mt("codeInline",e,"`",t),Mt("bold",e,"**",t),Mt("italic",e,"*",t),t.write(i.text),Mt("codeInline",e,"`",t),Mt("bold",e,"**",t),Mt("italic",e,"*",t),Mt("link",e,"](",t),e.link){let u=decodeURIComponent(e.link.url);Mt("link",e,u,t)}Mt("link",e,")",t)}else t.write(i.text)}else if(s.type=="equation")t.write("$"),t.write(s.equation.equation),t.write("$");else if(s.type=="docsLink"){let i=new RegExp("https://\\w*.feishu.cn/((wiki)|(docs))/\\w+(?<id>#\\w+)"),e=s.docsLink.url;if(i.test(e)){let u=(n=(a=(d=i.exec(e))==null?void 0:d.groups)==null?void 0:a.id)!=null?n:"";t.write(`[${u}](${u})`)}}}async convertPara(s,t,d,a){let n=s.body.blocks;for(let i of n)if(i.type=="paragraph"){let e=i.paragraph,u=e.lineId,x=e.elements;if(e.style){const p=e.style;p.headingLevel?(t.write(this.stringMul("#",p.headingLevel)),t.write(" ")):u=null,p.list&&p.list.type==="checkbox"&&t.write("- [ ] "),p.list&&p.list.type==="bullet"&&t.write("- "),p.list&&p.list.type==="number"&&t.write(JSON.stringify(p.list.number)+". "),p.quote&&t.write("> ")}else u=null;for(let p of x){u&&t.write(`<span id="${u}">`);let l=new tr;this.convertele(p,l),t.write(l.file),u&&(this.docLinks.set(u,l.file),t.write("</span>"))}t.write(`

`)}else if(i.type=="code"){let e=i.code;t.write("```"),t.write(e.language),t.write(`
`),await this.convertPara(e,t,d,a),t.write("```\n\n")}else if(i.type=="gallery"){let e=i.gallery.imageList;for(let u of e){let x=u.fileToken,p=await this.downloadAsset(x,d,a);t.write(`![](assets/${p})

`)}}else i.type=="horizontalLine"?t.write(`
---

`):i.type=="callout"&&this.convertPara(i.callout,t,d,a)}async convert(s,t,d){let a=new tr;await this.convertPara(d,a,s,t);for(const n of this.docLinks){let[i,e]=n;a.file=li(a.file,`\\[#${i}\\]\\(#${i}\\)`,`[${e}](#${i})`)}return a}async downloadAsset(s,t,d){var i,e;let a=await this.tmp.getItem(s),n="";if(a){let u=a.mime;u=="image/png"?n=".png":(u=="image/jpeg"||u=="image/jpg")&&(n=".jpg"),(i=d.folder("assets"))==null||i.file(s+n,a.data)}else{let u=await zt.get(Dt(`/drive/v1/medias/${s}/download`),{headers:{Authorization:"Bearer "+t},responseType:"arraybuffer"}),x=u.headers["content-type"];x=="image/png"?n=".png":(x=="image/jpeg"||x=="image/jpg")&&(n=".jpg");const p=new Uint8Array(u.data);(e=d.folder("assets"))==null||e.file(s+n,p),await this.tmp.setItem(s,{mime:x,data:p})}return s+n}}function li(b,s,t){var d=new RegExp(s,"g");return b.replace(d,t)}function ze(b,s){return b==null||b===""?s:b}function Rt(b){let s="";for(const t of b)if(t.text_run){let d=t.text_run.content,a=t.text_run.text_element_style;a.link&&(d=`[${d}](${decodeURIComponent(a.link.url)})`),a.bold&&(d="**"+d.trim()+"**"),a.italic&&(d="*"+d.trim()+"*"),a.inline_code&&(d="`"+d+"`"),s+=d}else if(t.equation)s+="$"+t.equation.content.trim()+"$";else if(t.mention_doc){const d=t.mention_doc;s+=`[${d.title}](${decodeURIComponent(d.url)})`}return s}async function ci(b,s,t,d,a,n){const i=await Yt(b,s,t,d,a,n);return await Promise.all(b.async_tasks||[]),i}async function Yt(b,s,t,d,a,n){var x,p;let i="",e=0;const u={output_raw:(x=b.output_raw)!=null?x:!1,async_tasks:(p=b.async_tasks)!=null?p:[]};b.async_tasks=u.async_tasks;for(const l of t){if(l.parent_id!=s)continue;e!=l.block_type&&(e!=0&&(i+=`
`),e=0);let w=`

`,f="";switch(n!=null&&n.parent_prefix&&(f=n.parent_prefix+f,w=`
`),n!=null&&n.nonewline&&(w=""),l.block_type){case bt.page:{const _=l;f+="# "+Rt(_.page.elements)+`

`,f+=await Yt(u,_.block_id,t,d,a)}break;case bt.text:{f+=Rt(l.text.elements)+w;break}case bt.code:{const _=l,c=_.code.style.language<=nr.length?nr[_.code.style.language-1]:"";f+="```"+c+`
`+Rt(_.code.elements)+"\n```\n\n";break}case bt.h1:{f+="# "+Rt(l.heading1.elements)+`

`;break}case bt.h2:{f+="## "+Rt(l.heading2.elements)+`

`;break}case bt.h3:{f+="### "+Rt(l.heading3.elements)+`

`;break}case bt.h4:{f+="#### "+Rt(l.heading4.elements)+`

`;break}case bt.h5:{f+="##### "+Rt(l.heading5.elements)+`

`;break}case bt.h6:{f+="###### "+Rt(l.heading6.elements)+`

`;break}case bt.h7:{f+="####### "+Rt(l.heading7.elements)+`

`;break}case bt.h8:{f+="######## "+Rt(l.heading8.elements)+`

`;break}case bt.h9:{f+="######### "+Rt(l.heading9.elements)+`

`;break}case bt.todo:{e=bt.todo;const _=l.todo;_.style.done?f+="- [x] "+Rt(_.elements)+`
`:f+="- [ ] "+Rt(_.elements)+`
`;break}case bt.orderList:{e=bt.orderList;const _=l.ordered;f+="1. "+Rt(_.elements)+`
`;break}case bt.bullet:{e=bt.bullet;const _=l.bullet;f+="* "+Rt(_.elements)+`
`;break}case bt.quote:{e=bt.quote,l.children,f+=await Yt(u,l.block_id,t,d,a,{parent_prefix:"> "})+`
`;break}case bt.image:{f+=`![](assets/${await rr(u,l.image.token,a,d)})

`;break}case bt.grid:{f+=await Yt(u,l.block_id,t,d,a);break}case bt.grid_column:{f+=await Yt(u,l.block_id,t,d,a);break}case bt.divider:{f+=`---

`;break}case bt.view:{f+=await Yt(u,l.block_id,t,d,a);break}case bt.file:{const _=l,c=_.file.name,v=_.file.token,m=await rr(u,v,a,d,c);f+=`[${c}](assets/${m})`;break}case bt.table:{const _=l,c=_.table.property.column_size,v=_.table.property.row_size;_.children;const m=t.filter(k=>k.parent_id===_.block_id);for(let k=0;k<v;k++){f+="|";for(let I=0;I<c;I++){const N=k*c+I,E=m[N];E?f+=await Yt(u,E.block_id,t,d,a,{nonewline:!0})+" |":f+="  |"}if(f+=`
`,k===0){f+="|";for(let I=0;I<c;I++)f+="---|";f+=`
`}}break}case bt.tabel_cell:{const _=l;console.log(_);const c=t.filter(v=>v.parent_id===_.block_id);for(let v=0;v<c.length;v++){const m=c[v];f+=await Yt(u,m.block_id,t,d,a,{nonewline:!0})}break}}i+=f}return i}const er=Ue.createInstance({name:"file_cache"});async function rr(b,s,t,d,a){var u,x;let n=await er.getItem(s),i={value:""};function e(p){const l=p.split("/");l.length===2?i.value="."+l[1]:console.log(l)}if(n){let p=n.mime;e(p),(u=d.folder("assets"))==null||u.file(a?s+"_"+a:s+i.value,n.data)}else{let p=await zt.get(Dt(`/drive/v1/medias/${s}/download`),{headers:{Authorization:"Bearer "+t},responseType:"arraybuffer"}),l=p.headers["content-type"];e(l);const w=new Uint8Array(p.data);(x=d.folder("assets"))==null||x.file(a?s+"_"+a:s+i.value,w),await er.setItem(s,{mime:l,data:w})}return a?s+"_"+a:s+i.value}var bt=(b=>(b[b.page=1]="page",b[b.text=2]="text",b[b.h1=3]="h1",b[b.h2=4]="h2",b[b.h3=5]="h3",b[b.h4=6]="h4",b[b.h5=7]="h5",b[b.h6=8]="h6",b[b.h7=9]="h7",b[b.h8=10]="h8",b[b.h9=11]="h9",b[b.bullet=12]="bullet",b[b.orderList=13]="orderList",b[b.code=14]="code",b[b.ref=15]="ref",b[b.equation=16]="equation",b[b.todo=17]="todo",b[b.bitable=18]="bitable",b[b.callout=19]="callout",b[b.chat_card=20]="chat_card",b[b.diagram=21]="diagram",b[b.divider=22]="divider",b[b.file=23]="file",b[b.grid=24]="grid",b[b.grid_column=25]="grid_column",b[b.iframe=26]="iframe",b[b.image=27]="image",b[b.widget=28]="widget",b[b.mindnote=29]="mindnote",b[b.sheet=30]="sheet",b[b.table=31]="table",b[b.tabel_cell=32]="tabel_cell",b[b.view=33]="view",b[b.quote=34]="quote",b[b.unsupport=999]="unsupport",b))(bt||{});const nr=["PlainText","ABAP","Ada","Apache","Apex","Assembly","Bash","CSharp","C++","C","COBOL","CSS","CoffeeScript","D","Dart","Delphi","Django","Dockerfile","Erlang","Fortran","FoxPro","Go","Groovy","HTML","HTMLBars","HTTP","Haskell","JSON","Java","JavaScript","Julia","Kotlin","LateX","Lisp","Logo","Lua","MATLAB","Makefile","Markdown","Nginx","Objective","OpenEdgeABL","PHP","Perl","PostScript","Power","Prolog","ProtoBuf","Python","R","RPG","Ruby","Rust","SAS","SCSS","SQL","Scala","Scheme","Scratch","Shell","Swift","Thrift","TypeScript","VBScript","Visual","XML","YAML","CMake","Diff","Gherkin","GraphQL","OpenGL Shading Language","Properties","Solidity","TOML"];async function pi(){try{return(await(await fetch("http://127.0.0.1:18900/ping")).json()).code===0}catch{return!1}}function Dt(b){return"http://127.0.0.1:18900/api/feishu"+b}const ir=Ue.createInstance({name:"file_cache"});class mi{constructor(s){Nt(this,"convert",!0);Nt(this,"downloadingCallback");Nt(this,"dialog");Nt(this,"tenant_access_token");Nt(this,"user_access_token");Nt(this,"tenant_expires_in");Nt(this,"user_expires_in");Nt(this,"refresh_token");Nt(this,"app_id");Nt(this,"app_secret");var t;this.downloadingCallback=s,this.user_expires_in=JSON.parse((t=window.localStorage.getItem("user_expires_in"))!=null?t:"0")}async userAccess(){(!this.tenant_expires_in||this.tenant_expires_in<Date.now())&&await this.app_login();try{(!this.user_expires_in||this.user_expires_in<Date.now())&&await this.refresh_user_access(this.refresh_token,this.tenant_access_token)}catch{this.dialog&&this.dialog.error({title:"\u9519\u8BEF",content:"\u5237\u65B0\u7528\u6237token\u5931\u8D25\uFF0C\u8BF7\u91CD\u65B0\u8BA4\u8BC1\uFF01"})}return this.user_access_token}async get_root_folder(){return(await zt.get(Dt("/drive/explorer/v2/root_folder/meta"),{headers:{Authorization:`Bearer ${await this.userAccess()}`}})).data.data}async app_login(s,t){s||(s=this.app_id,t=this.app_secret);let a=(await zt.post(Dt("/auth/v3/tenant_access_token/internal/"),{app_id:s,app_secret:t})).data;return this.tenant_expires_in=Date.now()+(a.expire-20*60)*1e3,this.app_id=s,this.app_secret=t,this.tenant_access_token=a.tenant_access_token,a.tenant_access_token}async user_login(s,t){var n;let d=await zt.post(Dt("/authen/v1/access_token"),{grant_type:"authorization_code",code:s},{headers:{Authorization:`Bearer ${t}`}});if((n=d.data)!=null&&n.code)throw new Error(JSON.stringify(d.data));const a=d.data.data;return this.user_expires_in=Date.now()+(a.expires_in-20*60)*1e3,this.user_access_token=a.access_token,this.refresh_token=a.refresh_token,window.localStorage.setItem("user_access_token",a.access_token),window.localStorage.setItem("refresh_token",a.refresh_token),a}async refresh_user_access(s,t){var n;let d=await zt.post(Dt("/authen/v1/refresh_access_token"),{grant_type:"refresh_token",refresh_token:s},{headers:{Authorization:`Bearer ${t}`}});(n=d.data)!=null&&n.code&&console.log(d.data);const a=d.data.data;return this.user_expires_in=Date.now()+(a.expires_in-20*60)*1e3,this.user_access_token=a.access_token,this.refresh_token=a.refresh_token,window.localStorage.setItem("user_access_token",a.access_token),window.localStorage.setItem("refresh_token",a.refresh_token),window.localStorage.setItem("user_expires_in",JSON.stringify(this.user_expires_in)),a}async get_folder_meta(s){return(await zt.get(Dt(`/drive/explorer/v2/folder/${s}/meta`),{headers:{Authorization:`Bearer ${await this.userAccess()}`}})).data.data}async get_files_in_folder(s){return(await zt.get(Dt(`/drive/explorer/v2/folder/${s}/children`),{headers:{Authorization:`Bearer ${await this.userAccess()}`}})).data.data}async get_doc(s){return(await zt.get(Dt(`/doc/v2/${s}/content`),{headers:{Authorization:`Bearer ${await this.userAccess()}`}})).data.data}async get_docx_next(s,t){const a=(await zt.get(Dt(`/docx/v1/documents/${s}/blocks?page_token=${t}`),{headers:{Authorization:`Bearer ${await this.userAccess()}`}})).data.data;let n=a.items;if(a.has_more){const i=a.page_token,e=await this.get_docx_next(s,i);n=[...n,...e]}return n}async get_docx(s){const d=(await zt.get(Dt(`/docx/v1/documents/${s}/blocks`),{headers:{Authorization:`Bearer ${await this.userAccess()}`}})).data.data;let a=d.items;if(d.has_more){const n=d.page_token,i=await this.get_docx_next(s,n);a=[...a,...i]}return a}async get_file(s,t,d){let a=await ir.getItem(s),n="";if(a){const e=a.mime.split("/");e.length===2?n="."+e[1]:console.log(e),t.file(d||s+n,a.data)}else await(async()=>{let e=await zt.get(Dt(`/drive/v1/files/${s}/download`),{headers:{Authorization:"Bearer "+await this.userAccess()},responseType:"arraybuffer"}),u=e.headers["content-type"];u=="image/png"?n=".png":(u=="image/jpeg"||u=="image/jpg")&&(n=".jpg");const x=new Uint8Array(e.data);return t.file(d||s+n,x),await ir.setItem(s,{mime:u,data:x}),e})();return d?s+"_"+d:s+n}async get_all_docs(s){const t=new de,d=new pe;this.convert=s;const a=await this.get_root_folder();return await this._r_docs_in_folder(a.token,t,d),await t.generateAsync({type:"blob"})}zipfileName(s,t,d){let a=ze(s,"\u672A\u547D\u540D\u6587\u6863"),n=1,i="";for(;t.file(a+i+d);)i=String(n),n+=1;return a=a+i+d,a}async save_doc(s,t,d){await this._save_doc(s.token,s.name,t,d)}async save_docx(s,t){await this._save_docx(s.token,s.name,t)}async save_doc_wiki(s,t,d){await this._save_doc(s.obj_token,s.title,t,d)}async save_docx_wiki(s,t){await this._save_docx(s.obj_token,s.title,t)}async _save_doc(s,t,d,a){var x;const n=(await this.get_doc(s)).content;let i=JSON.parse(n),e=this.zipfileName(t,d,".json"),u=this.zipfileName(t,d,".md");d.file(e,JSON.stringify({node:i,type:"docx"}));try{d.file(u,(await a.convert(await this.userAccess(),d,i)).file)}catch(p){console.log(p),d.file(u,JSON.stringify({error:p,msg:"convert error"}))}(x=this.downloadingCallback)==null||x.call(this,t)}async _save_docx(s,t,d){var e;const a=await this.get_docx(s);let n=this.zipfileName(t,d,".json"),i=this.zipfileName(t,d,".md");d.file(n,JSON.stringify({nodes:a,type:"docx"}));try{d.file(i,await ci({},"",a,d,await this.userAccess()))}catch(u){d.file(i,JSON.stringify({error:u,msg:"convert error"})),console.error(u)}(e=this.downloadingCallback)==null||e.call(this,t)}async get_some_docs(s,t=!0){const d=new de,a=new pe;this.convert=t;for(const n of s){let i=JSON.parse(n),e=d;for(const u of i.path)e=e.folder(u);i.type==="doc"?await this.save_doc(i,e,a):i.type==="docx"?await this.save_docx(i,e):i.type==="folder"?await this._r_docs_in_folder(i.token,e,a):i.type==="file"&&await this.get_file(i.token,e,i.name)}return await d.generateAsync({type:"blob"})}async _r_docs_in_folder(s,t,d){const a=await this.get_files_in_folder(s);for(let n in a.children){const i=a.children[n],e={token:i.token,name:i.name,path:[""],type:i.type};if(i.type==="doc")await this.save_doc(e,t,d);else if(i.type==="folder"){const u=t.folder(i.name);await this._r_docs_in_folder(i.token,u,d)}else i.type==="docx"?await this.save_docx(e,t):i.type==="file"&&await this.get_file(i.token,t,i.name)}}async get_all_docs_under_folder(s,t){let d=[],a=JSON.parse(s);const n=await this.get_files_in_folder(a.token),i=[];for(let e in n.children){const u=n.children[e];if(u.type==="doc"||u.type==="docx"){let x={token:u.token,path:[...a.path],name:u.name,type:u.type};d.push({label:ze(u.name,"\u672A\u547D\u540D\u6587\u6863"),value:JSON.stringify(x),isLeaf:!0,depth:t+1})}else if(u.type==="folder"){const x=async()=>{let p=(await this.get_folder_meta(u.token)).name,l={token:u.token,path:[...a.path,p],name:"",type:u.type};d.push({label:p,value:JSON.stringify(l),isLeaf:!1,depth:t+1})};i.push(x())}else if(u.type==="file"){let x={token:u.token,path:[...a.path],name:u.name,type:u.type};d.push({label:ze(u.name,"\u672A\u547D\u540D\u6587\u4EF6"),value:JSON.stringify(x),isLeaf:!0,depth:t+1})}}return await Promise.all(i),d}async get_all_docs_list(){let t={token:(await this.get_root_folder()).token,path:[],name:"",type:"root"};return await this.get_all_docs_under_folder(JSON.stringify(t),0)}async get_wiki_list(s){const d=(await zt.get(Dt(`/wiki/v2/spaces?page_size=10${s?"&page_token="+s:""}`),{headers:{Authorization:`Bearer ${await this.userAccess()}`}})).data.data;let a=d.items;return d.has_more&&(a=[...a,...await this.get_wiki_list(d.page_token)]),a}async get_wiki_nodes_root(s,t){const a=(await zt.get(Dt(`/wiki/v2/spaces/${s}/nodes?page_size=50${t?"&page_token="+t:""}`),{headers:{Authorization:`Bearer ${await this.userAccess()}`}})).data.data;let n=a.items;return a.has_more&&(n=[...n,...await this.get_wiki_nodes_root(s,a.page_token)]),n}async get_wiki_nodes(s,t,d){const n=(await zt.get(Dt(`/wiki/v2/spaces/${s}/nodes?page_size=50&parent_node_token=${t}${d?"&page_token="+d:""}`),{headers:{Authorization:`Bearer ${await this.userAccess()}`}})).data.data;let i=n.items;return n.has_more&&(i=[...i,...await this.get_wiki_nodes(s,n.page_token)]),i}async get_all_wiki_in_space(s,t){const d=new de,a=new pe;this.convert=t;const n=await this.get_wiki_nodes_root(s);return await this._r_get_all_wiki_in_space(s,n,d,a),await d.generateAsync({type:"blob"})}async get_one_wiki_in_sapce(s,t,d){const a=new de,n=new pe;return this.convert=t,await this._r_get_all_wiki_in_space(s,[d],a,n),await a.generateAsync({type:"blob"})}async _r_get_all_wiki_in_space(s,t,d,a){for(let n of t){if(n.has_child){let i=d.folder(n.title),e=await this.get_wiki_nodes(s,n.node_token);await this._r_get_all_wiki_in_space(s,e,i,a)}n.obj_type==="doc"?await this.save_doc_wiki(n,d,a):n.obj_type==="docx"?await this.save_docx_wiki(n,d):console.warn("Not Impl doc type: "+n.obj_type)}}}export{mi as F,Jt as c,pi as t};
